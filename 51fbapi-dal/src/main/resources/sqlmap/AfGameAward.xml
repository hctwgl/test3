<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfGameAwardDao">
	<sql id="queryFields">
		id rid,gmt_create,gmt_modified,game_id,user_id,user_name,user_avata,award_id,award_type,award_name,award_icon,contacts
	</sql>
	
	<insert id="addGameAward" parameterType="AfGameAwardDo" useGeneratedKeys="true" keyProperty="rid">
		INSERT INTO af_game_award(gmt_create , gmt_modified , game_id , user_id , user_name , user_avata , award_id , award_type , award_name , award_icon)
		VALUES (
    		NOW(),
    		NOW(),
    		#{gameId},
    		#{userId},
    		#{userName},
    		#{userAvata},
    		#{awardId},
    		#{awardType},
    		#{awardName},
    		#{awardIcon}
		)
	</insert>
	
	<select id="getByUserId" resultType="AfGameAwardDo">
		SELECT 
			<include refid="queryFields"/>
		FROM af_game_award WHERE is_delete = 0 AND user_id=#{userId}
	</select>
	
	<select id="getLatestAwards" resultType="AfGameAwardDo">
		SELECT 
			<include refid="queryFields"/>
		FROM af_game_award WHERE is_delete = 0 ORDER BY id DESC LIMIT 20;
	</select>
	
</mapper>