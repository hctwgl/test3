<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfTdFraudDao">
	<sql id="queryFields">
		id rid,type,add_time,user_name,user_phone,result,ip
	</sql>

<insert id="addTdFraud" parameterType="AfTdFraudDo" useGeneratedKeys="true" keyProperty="rid">
		INSERT INTO af_td_fraud(type , add_time , user_name , user_phone , result , ip)
		VALUES (
    		#{type},
    		NOW(),
    		#{userName},
    		#{userPhone},
    		#{result},
    		#{ip}
		)
	</insert>
	<update id="updateTdFraud" parameterType="AfTdFraudDo" >
		UPDATE af_td_fraud SET gmt_modified = NOW()
			<if test="type != null">
    			,type=#{type}
			</if>
			<if test="addTime != null">
    			,add_time=#{addTime}
			</if>
			<if test="userName != null">
    			,user_name=#{userName}
			</if>
			<if test="userPhone != null">
    			,user_phone=#{userPhone}
			</if>
			<if test="result != null">
    			,result=#{result}
			</if>
			<if test="ip != null">
    			,ip=#{ip}
			</if>
		WHERE id = #{rid}
	</update>
	
	<update id="deleteTdFraud" parameterType="java.lang.Long" >
		UPDATE af_td_fraud SET is_delete = 1 WHERE id=#{rid}
	</update>
</mapper>