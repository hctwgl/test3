<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfCategoryDao">
	<sql id="queryFields">
		id rid,gmt_create,gmt_modified,creator,modifier,name,level,parent_id,is_show,sort
	</sql>
	
	<select id="getCategoryList" resultType="AfCategoryDo">
		SELECT
			<include refid="queryFields"/>
		FROM
			af_category
		WHERE
			is_delete=0 AND level=1 AND is_show='Y'
		order by gmt_create desc
	</select>
	
	<select id="getParentDirectoryByName" resultType="AfCategoryDo"  parameterType="java.lang.String">
		SELECT
			<include refid="queryFields"/>
		FROM
			af_category
		WHERE
			is_delete=0 
			AND level=1 
			AND parent_id = 0
			and is_show = 'Y'
			and name= #{name}
			limit 0,1
			
		
	</select>
	
</mapper>