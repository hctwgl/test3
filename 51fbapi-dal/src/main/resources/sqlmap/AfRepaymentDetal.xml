<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfRepaymentDetalDao">
	<sql id="queryFields">
		id,total_amount,gmt_create,gmt_update,repayment_id,amount,type
	</sql>


	<insert id="addRepaymentDetal" parameterType="AfRepaymentDetalDo" useGeneratedKeys="true" keyProperty="rid">
		INSERT INTO af_repayment_detal(total_amount , gmt_create , gmt_update  , repayment_id , amount , type)
		VALUES (
    		#{totalAmount},
    		NOW(),
    		NOW(),
    		#{repaymentId},
    		#{amount},
    		#{type}
		)
	</insert>
	<select id="getRepaymentDetalByTypeAndId" resultType="AfRepaymentDetalDo">
		select <include refid="queryFields" /> from
		af_repayment_detal where repayment_id = #{repaymentId} and type =#{type} limit 0,1
	</select>
</mapper>