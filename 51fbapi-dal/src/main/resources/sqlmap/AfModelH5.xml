<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfModelH5Dao">
<sql id="queryAllFields">
id rid,gmt_create,gmt_modified,creator,modifier,name,type,url,icon,max_commission,description

</sql>
<insert id="addModelH5" parameterType="AfModelH5Do" useGeneratedKeys="true" keyProperty="rid">
		INSERT INTO af_model_h5(gmt_create , gmt_modified , creator , modifier , name , type , url , icon , max_commission , description)
		VALUES (
    		NOW(),
    		NOW(),
    		#{creator},
    		#{modifier},
    		#{name},
    		#{type},
    		#{url},
    		#{icon},
    		#{maxCommission},
    		#{description}
		)
	</insert>
	<update id="updateModelH5" parameterType="AfModelH5Do" >
		UPDATE af_model_h5 SET gmt_modified = NOW()
			<if test="isDelete != null">
    			,is_delete=#{isDelete}
			</if>
			<if test="creator != null">
    			,creator=#{creator}
			</if>
			<if test="modifier != null">
    			,modifier=#{modifier}
			</if>
			<if test="name != null">
    			,name=#{name}
			</if>
			<if test="type != null">
    			,type=#{type}
			</if>
			<if test="url != null">
    			,url=#{url}
			</if>
			<if test="icon != null">
    			,icon=#{icon}
			</if>
			<if test="maxCommission != null">
    			,max_commission=#{maxCommission}
			</if>
			<if test="description != null">
    			,description=#{description}
			</if>
		WHERE id = #{rid}
	</update>
	
	<select id="selectMordelH5ById" resultMap="AfModelH5Do">
	SELECT
		<include refid="queryAllFields"/>
	FROM af_model_h5 WHERE is_delete =0 AND id = #{rid}
	</select>
</mapper>