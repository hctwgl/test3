<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ald.fanbei.api.dal.dao.AfBorrowTempDao">
	<sql id="queryFields">
		id rid,gmt_create,borrow_id,goods_id,open_id,num_id
	</sql>
	
	<insert id="addBorrowTemp" parameterType="AfBorrowTempDo" useGeneratedKeys="true" keyProperty="rid">
		INSERT INTO af_borrow_temp(gmt_create , borrow_id , goods_id , open_id , num_id)
		VALUES (
    		NOW(),
    		#{borrowId},
    		#{goodsId},
    		#{openId},
    		#{numId}
		)
	</insert>
	
	<select id="getBorrowTempByBorrowId" parameterType="java.lang.Long" resultType="AfBorrowTempDo">
		SELECT 
			<include refid="queryFields"/>
		FROM af_borrow_temp WHERE is_delete = 0 AND borrow_id = #{borrowId}
	</select>
</mapper>