"use strict";function formatDateTime(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var s=e.getDate();return s=s<10?"0"+s:s,t+r+s+e.getHours()+e.getMinutes()+e.getSeconds()}var token=formatDateTime()+Math.random().toString(36).substr(2),_fmOpt;!function(){_fmOpt={partner:"alading",appName:"alading_web",token:token};var e=new Image(1,1);e.onload=function(){_fmOpt.imgLoaded=!0},e.src=("https:"==document.location.protocol?"https://":"http://")+"fp.fraudmetrix.cn/fp/clear.png?partnerCode=alading&appName=alading_web&tokenId="+_fmOpt.token;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://":"http://")+"static.fraudmetrix.cn/fm.js?ver=0.1&t="+((new Date).getTime()/36e5).toFixed(0);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}(),function(e){e._tt_config=!0;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=document.location.protocol+"//s3.pstatp.com/bytecom/resource/track_log/src/toutiao-track-log.js",t.onerror=function(){var e=new XMLHttpRequest,r=window.encodeURIComponent(window.location.href),s=t.src,o="//ad.toutiao.com/link_monitor/cdn_failed?web_url="+r+"&js_url="+s;e.open("GET",o,!0),e.send(null)};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}(window),$(function(){function e(){r--,r<=0?($("#register_codeBtn").removeAttr("disabled"),$("#register_codeBtn").text("获取验证码"),clearInterval(t),r=60):$("#register_codeBtn").text(r+" s")}var t,r=60;$("#register_codeBtn").click(function(){var s=($(this).attr("isState"),$("#register_mobile").val());!isNaN(s)&&/^1(3|4|5|7|8)\d{9}$/i.test(s)?($("#register_codeBtn").attr("disabled",!0),$.ajax({url:"/app/user/getRegisterSmsCode",type:"POST",dataType:"JSON",data:{mobile:s,token:token},success:function(s){s.success?($("#register_codeBtn").attr("isState",1),$("#register_codeBtn").text(r+" s"),t=setInterval(e,1e3)):(requestMsg(s.msg),$("#register_codeBtn").removeAttr("disabled"))},error:function(){requestMsg("请求失败")}})):requestMsg("请填写正确的手机号")}),$("#register_submitBtn").click(function(){var e=$("#register_password").val(),t=String(CryptoJS.MD5(e)),r=e.length,s=/^((?=.*?\d)(?=.*?[A-Za-z])|(?=.*?\d)(?=.*?[.!@#$%])|(?=.*?[A-Za-z])(?=.*?[.]))[\dA-Za-z.!@#$%]+$/,o=s.test(e),a=$("#register_mobile").val(),n=$("#register_verification").val();$("#register_codeBtn").attr("isState");/^1(3|4|5|7|8)\d{9}$/i.test(a)&&""!=a?""!=n?o&&6<=r<=18?$("#input_check").is(":checked")?1==$("#register_codeBtn").attr("isState")?(_taq.push({convert_id:"59212981134",event_type:"form"}),$.ajax({url:"/app/user/commitChannelRegister",type:"POST",dataType:"JSON",data:{registerMobile:a,smsCode:n,password:t,channelCode:"Xpyq1",pointCode:"Xpyq5",token:token},success:function(e){e.success?($("#register_submitBtn").attr("disabled",!0),requestMsg("注册成功，立刻下载！"),setTimeout(function(){document.body.scrollTop=0,$(".mask").removeClass("hide"),$(".downloadQRcode").removeClass("hide")},2e3)):requestMsg(e.msg)},error:function(){requestMsg("注册失败")}})):requestMsg("请获取验证码"):requestMsg("请阅读并同意《51返呗用户注册协议》"):requestMsg("请填写6-18位的数字、字母、字符组成的密码"):requestMsg("请输入验证码"):requestMsg("请填写正确的手机号")}),$(".mask").click(function(e){window.location.reload(),$(".mask").addClass("hide"),$(".downloadQRcode").addClass("hide")})});
//# sourceMappingURL=../../_srcmap/js/user/channelPc.js.map
