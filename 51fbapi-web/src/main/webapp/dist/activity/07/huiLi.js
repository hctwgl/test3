"use strict";var modelId=getUrl("modelId");console.log(modelId);var vm=new Vue({el:"#huiLi",data:{couponCont:{},content:{},list01:{},list02:{},list03:{},first:{},second:{}},created:function(){this.logCoupon(),this.logContent()},methods:{logCoupon:function logCoupon(){var self=this;$.ajax({type:"post",url:"/fanbei-web/activityCouponList",success:function success(data){self.couponCont=eval("("+data+")").data,console.log(self.couponCont)},error:function(){requestMsg("请求失败")}})},couponClick:function(o){var s=o.couponId;console.log(1),$.ajax({url:"/fanbei-web/pickCoupon",type:"POST",dataType:"JSON",data:{couponId:s},success:function(o){if(o.success)requestMsg("优惠劵领取成功");else{var s=o.data.status;"USER_NOT_EXIST"==s&&(window.location.href=o.url),"OVER"==s&&(requestMsg(o.msg),requestMsg("优惠券个数超过最大领券个数")),"COUPON_NOT_EXIST"==s&&requestMsg(o.msg)}},error:function(){requestMsg("请求失败")}})},logContent:function logContent(){var self=this;$.ajax({type:"post",url:"/fanbei-web/partActivityInfo?modelId="+modelId,success:function success(data){self.content=eval("("+data+")").data,console.log(self.content),self.list01=self.content.activityList[0].activityGoodsList,self.list02=self.content.activityList[1].activityGoodsList,self.list03=self.content.activityList[2].activityGoodsList,self.first.goodsId=self.list01[0].goodsId,self.first.source=self.list01[0].source,self.second.goodsId=self.list02[0].goodsId,self.second.source=self.list02[0].source,self.list01=self.list01.slice(1),self.list02=self.list02.slice(1),console.log(self.first),console.log(self.second)},error:function(){requestMsg("请求失败")}})},productClick:function(o){console.log(o),"SELFSUPPORT"==o.source?window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"privateGoodsId":"'+o.goodsId+'"}':window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"goodsId":"'+o.goodsId+'"}'},txtFix:function(o,s){return function(o,s){for(var t=0,e=0;e<o.length;e++){var n=o.charAt(e);if(encodeURI(n).length>2?t+=1:t+=.5,t>=s){var i=t==s?e+1:e;return o.substr(0,i)}}}(o,s)}}});
//# sourceMappingURL=../../_srcmap/activity/07/huiLi.js.map
