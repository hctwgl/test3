"use strict";var modelId=getUrl("modelId");console.log(modelId);var vm=new Vue({el:"#huiLi",data:{couponCont:{},content:{},list01:{},list02:{},list03:{},firstId:{},secondId:{}},created:function(){this.logCoupon(),this.logContent()},methods:{logCoupon:function logCoupon(){var self=this;$.ajax({type:"post",url:"/fanbei-web/activityCouponList",success:function success(data){self.couponCont=eval("("+data+")").data,console.log(self.couponCont)},error:function(){requestMsg("请求失败")}})},couponClick:function(t){var s=t.couponId;console.log(1),$.ajax({url:"/fanbei-web/pickCoupon",type:"POST",dataType:"JSON",data:{couponId:s},success:function(t){if(t.success)requestMsg("优惠劵领取成功");else{var s=t.data.status;"USER_NOT_EXIST"==s&&(window.location.href=t.url),"OVER"==s&&(requestMsg(t.msg),requestMsg("优惠券个数超过最大领券个数")),"COUPON_NOT_EXIST"==s&&requestMsg(t.msg)}},error:function(){requestMsg("请求失败")}})},logContent:function logContent(){var self=this;$.ajax({type:"post",url:"/fanbei-web/partActivityInfo?modelId="+modelId,success:function success(data){self.content=eval("("+data+")").data,console.log(self.content),self.list01=self.content.activityList[0].activityGoodsList,self.list02=self.content.activityList[1].activityGoodsList,self.list03=self.content.activityList[2].activityGoodsList,self.firstId=self.list01[0].goodsId,self.secondId=self.list02[0].goodsId,self.list01=self.list01.slice(1),self.list02=self.list02.slice(1)},error:function(){requestMsg("请求失败")}})},productClick:function(t){console.log(t)},txtFix01:function(t){return function(t,s){for(var o=0,e=0;e<t.length;e++){var n=t.charAt(e);if(encodeURI(n).length>2?o+=1:o+=.5,o>=s){var i=o==s?e+1:e;return t.substr(0,i)}}}(t,20)},txtFix02:function(t){return function(t,s){for(var o=0,e=0;e<t.length;e++){var n=t.charAt(e);if(encodeURI(n).length>2?o+=1:o+=.5,o>=s){var i=o==s?e+1:e;return t.substr(0,i)}}}(t,8)}}});
//# sourceMappingURL=../../_srcmap/activity/07/huiLi.js.map
