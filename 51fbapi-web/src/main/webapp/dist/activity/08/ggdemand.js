"use strict";function getUrlParam(e){var t=new Object;if(-1!=e.indexOf("?")){var a=e.substr(e.indexOf("?")+1,e.length),s=[];s=a.split("&");for(var n=0;n<s.length;n++)t[s[n].split("=")[0]]=unescape(s[n].split("=")[1])}return t}$(function(){function e(){function e(){s.offsetWidth-n.scrollLeft<=0?n.scrollLeft-=a.offsetWidth:n.scrollLeft++}var t=null,a=document.getElementById("scroll_begin"),s=document.getElementById("scroll_end"),n=document.getElementById("scroll_div");s.innerHTML=a.innerHTML,t=setInterval(e,50),n.onmouseover=function(){clearInterval(t)},n.onmouseout=function(){t=setInterval(e,50)}}var t=window.location.href;alert(t);var a=t.lastIndexOf("/"),s=t.indexOf("?"),n=t.slice(a+1,s),l=getUrlParam(t),i=l.itemsId,r=l.userName;alert("itemsId->"+i),alert("userName->"+r),$.ajax({url:"/H5GGShare/ggAskForItems",type:"GET",dataType:"JSON",data:{itemsId:i,friendName:r},success:function(t){if(console.log(t),t.success){var a="",s="",n="",l="",i="",r="";l+="<span class='join'>"+t.data.fakeJoin+"</span>",$(".join").html(l),n+='<i class="friend">'+t.data.friend+"</i>",$(".friend").html(n),s+="<img src="+t.data.resourceDo.value+' alt="" class="banner-img">',$(".banner").html(s),a+='<span class="light">'+t.data.fakeFinal+"</span>",$(".light").html(a),i+='<span class="combo">'+t.data.itemsDo.name+"</span>",$(".combo").html(i),r+='<p class="ruleCont">'+t.data.description+"</p>",$(".ruleCont").html(r),e()}else requestMsg(t.msg)}}),$(".presentCard").click(function(){$.ajax({url:"/H5GGShare/sendToFriend",type:"GET",dataType:"JSON",data:{itemsId:i,friendName:r},success:function(e){console.log(e),e.success&&("没有登录"==e.msg?window.location.href="gglogin?word=S&urlName="+n+"&itemsId="+i+"&userName="+r:requestMsg(e.msg))}})}),$(".demandCard").click(function(){$.ajax({url:"/H5GGShare/lightItems",type:"GET",dataType:"JSON",data:{activityId:activityId},success:function(e){if(console.log(e),e.success)if("没有登录"==e.msg)window.location.href="gglogin?urlName="+n;else{var t=e.data.userName;window.location.href="ggIndexShare?userName="+t}}})}),$(".rules").click(function(){$(".mask").show(),$(".alertRule").show()}),$(".mask").click(function(){$(".mask").hide(),$(".alertRule").hide()})});
//# sourceMappingURL=../../_srcmap/activity/08/ggdemand.js.map
