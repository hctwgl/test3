"use strict";function getUrlParam(e){var a=new Object;if(-1!=e.indexOf("?")){var t=e.substr(e.indexOf("?")+1,e.length),n=[];n=t.split("&");for(var s=0;s<n.length;s++)a[n[s].split("=")[0]]=unescape(n[s].split("=")[1])}return a}var currentUrl=window.location.href,index=currentUrl.lastIndexOf("/"),index01=currentUrl.indexOf("?"),urlName=currentUrl.slice(index+1,index01),param=getUrlParam(currentUrl),itemsId=param.itemsId,userName=param.userName;$(function(){function e(){function e(){n.offsetWidth-s.scrollLeft<=0?s.scrollLeft-=t.offsetWidth:s.scrollLeft++}var a=null,t=document.getElementById("scroll_begin"),n=document.getElementById("scroll_end"),s=document.getElementById("scroll_div");n.innerHTML=t.innerHTML,a=setInterval(e,50),s.onmouseover=function(){clearInterval(a)},s.onmouseout=function(){a=setInterval(e,50)}}$.ajax({url:"/H5GGShare/ggAskForItems",type:"GET",dataType:"JSON",data:{itemsId:itemsId,friendName:userName},success:function(a){if(console.log(a),a.success){var t="",n="",s="",r="",l="",i="";r+="<span class='join'>"+a.data.fakeJoin+"</span>",$(".join").html(r),s+='<i class="friend">'+a.data.friend+"</i>",$(".friend").html(s),n+="<img src="+a.data.resourceDo.value+' alt="" class="banner-img">',$(".banner").html(n),t+='<span class="light">'+a.data.fakeFinal+"</span>",$(".light").html(t),l+='<span class="combo">'+a.data.itemsDo.name+"</span>",$(".combo").html(l),i+='<p class="ruleCont">'+a.data.description+"</p>",$(".ruleCont").html(i),e()}else requestMsg(a.msg)}}),$(".presentCard").click(function(){$.ajax({url:"/H5GGShare/sendToFriend",type:"GET",dataType:"JSON",data:{itemsId:itemsId,friendName:userName},success:function(e){console.log(e),e.success&&("没有登录"==e.msg?window.location.href="gglogin?word=Z&&urlName="+urlName:requestMsg(e.msg))}})}),$(".demandCard").click(function(){$.ajax({url:"/H5GGShare/lightItems",type:"GET",dataType:"JSON",data:{activityId:activityId},success:function(e){if(console.log(e),e.success)if("没有登录"==e.msg)window.location.href="gglogin?urlName="+urlName;else{var a=e.data.userName;window.location.href="ggIndexShare?userName="+a}}})}),$(".rules").click(function(){$(".mask").show(),$(".alertRule").show()}),$(".mask").click(function(){$(".mask").hide(),$(".alertRule").hide()})});
//# sourceMappingURL=../../_srcmap/activity/08/ggdemand.js.map
