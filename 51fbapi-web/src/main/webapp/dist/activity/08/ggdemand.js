"use strict";function getUrlParam(e){var t=new Object;if(-1!=e.indexOf("?")){var n=e.substr(e.indexOf("?")+1,e.length),a=[];a=n.split("&");for(var i=0;i<a.length;i++)t[a[i].split("=")[0]]=unescape(a[i].split("=")[1])}return t}$(function(){function e(){function e(){a.offsetWidth-i.scrollLeft<=0?i.scrollLeft-=n.offsetWidth:i.scrollLeft++}var t=null,n=document.getElementById("scroll_begin"),a=document.getElementById("scroll_end"),i=document.getElementById("scroll_div");a.innerHTML=n.innerHTML,t=setInterval(e,50),i.onmouseover=function(){clearInterval(t)},i.onmouseout=function(){t=setInterval(e,50)}}var t=window.location.href,n=t.lastIndexOf("/"),a=t.indexOf("?"),i=t.slice(n+1,a),s=getUrlParam(t),o=s.itemsId,l=s.userName,c=s.activityId;s.loginSource;$.ajax({url:"/H5GGShare/ggAskForItems",type:"GET",dataType:"JSON",data:{itemsId:o,friendName:l},success:function(t){if(console.log(t),t.success){var n="",a="",i="",s="";i+="<span class='join'>"+t.data.fakeJoin+"</span>",$(".join").html(i),a+='<i class="friend">'+t.data.friend+"</i>",$(".friend").html(a),n+='<span class="light">'+t.data.fakeFinal+"</span>",$(".light").html(n),$(".combo").html(t.data.itemsDo.name),s+='<p class="ruleCont">'+t.data.description+"</p>",$(".ruleCont").html(s),e()}else requestMsg(t.msg)}}),$(".presentCard").click(function(){$.ajax({url:"/H5GGShare/sendToFriend",type:"GET",dataType:"JSON",data:{itemsId:o,friendName:l},success:function(e){console.log(e),e.success&&("没有登录"==e.msg?window.location.href="gglogin?word=S&urlName="+i+"&itemsId="+o+"&userName="+l+"&activityId="+c:requestMsg(e.msg))}})}),$(".demandCard").click(function(){$.ajax({url:"/H5GGShare/lightItems",type:"GET",dataType:"JSON",data:{activityId:c},success:function(e){console.log(e),e.success&&("没有登录"==e.msg?window.location.href="gglogin?word=S&urlName="+i+"&itemsId="+o+"&userName="+l+"&activityId="+c:(l=e.data.userName,window.location.href="ggIndexShare?userName="+l+"&activityId="+c))}})}),$(".rules").click(function(){$(".mask").show(),$(".alertRule").show()}),$(".mask").click(function(){$(".mask").hide(),$(".alertRule").hide()}),$(".joinAmount").click(function(){window.location.href="ggrankingList?activityId="+c})});
//# sourceMappingURL=../../_srcmap/activity/08/ggdemand.js.map
