"use strict";function getUrlParam(e){var s=new Object;if(-1!=e.indexOf("?")){var t=e.substr(e.indexOf("?")+1,e.length),o=[];o=t.split("&");for(var c=0;c<o.length;c++)s[o[c].split("=")[0]]=unescape(o[c].split("=")[1])}return s}$(function(){function e(){u--,u<=0?($(".checkbtn").text("获取验证码"),clearInterval(s),u=60,$(".checkbtn").attr("isState",0)):$(".checkbtn").text(u+" s")}var s,t=window.location.href,o=getUrlParam(t),c=o.word,n=o.urlName,i=o.userName,a=o.activityId,l=o.userItemsId,r=o.itemsId,u=60;$(".yhicon").click(function(){$(".yhinp").val(""),$(".yhicon").css("display","none")}),$(".yhinp").keyup(function(){""==$(".yhinp").val()?$(".yhicon").css("display","none"):$(".yhicon").css("display","block")}),$(".mmicon").click(function(){$("#mobile").val(""),console.log($("#mobile").val()),$(".mmicon").css("display","none")}),$("#mobile").keyup(function(){""==$("#mobile").val()?$(".mmicon").css("display","none"):$(".mmicon").css("display","block")}),$(".checkbtn").click(function(){var t=$(".checkbtn").attr("isState"),o=$(".mobile").val();$("#password").val();if(0==t||!t){var c=/^1[3|4|5|8][0-9]\d{4,8}$/.test(o);c?$.ajax({url:"/app/user/getRegisterSmsCode",type:"POST",dataType:"json",data:{mobile:o},success:function(t){t.success?($(".checkbtn").attr("isState",1),$(".checkbtn").text(u+" s"),s=setInterval(e,1e3)):requestMsg(t.msg)},error:function(){requestMsg("请求失败")}}):(console.log(c),requestMsg("请填写正确的手机号"))}}),$(".loginbtn").click(function(){var e=$(".check").val(),s=$(".mobile").val(),t=$("#password").val();console.log(t),console.log(e),console.log(s);var u=$("#yzcheck").val(),m=/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(s),d=/^\d{6}$/.test(u),g=/^(?![^a-zA-Z]+$)(?!\\D+$).{6,18}$/.test(t);if(m&&d&&""!=u&&g&&void 0!=t){var v=String(CryptoJS.MD5(t));$.ajax({url:"/H5GGShare/commitBouomeActivityRegister",type:"post",data:{registerMobile:s,smsCode:e,password:v,urlName:n},success:function(e){console.log(e);var s=JSON.parse(e);if(console.log(s),s.success){var t=o.urlName;window.location.href="gglogin?urlName="+t+"&userName="+i+"&activityId="+a+"&userItemsId="+l+"&itemsId="+r+"&word="+c}},error:function(){requestMsg("绑定失败")}})}else m?d?requestMsg("请填写6-18位的数字、字母、字符组成的密码"):requestMsg("请填写正确的验证码"):requestMsg("请填写正确的手机号")})});
//# sourceMappingURL=../../_srcmap/activity/08/ggregister.js.map
