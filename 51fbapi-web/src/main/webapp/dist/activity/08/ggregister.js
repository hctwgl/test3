"use strict";function getUrlParam(e){var t=new Object;if(-1!=e.indexOf("?")){var n=e.substr(e.indexOf("?")+1,e.length),s=[];s=n.split("&");for(var o=0;o<s.length;o++)t[s[o].split("=")[0]]=unescape(s[o].split("=")[1])}return t}$(function(){function e(){p--,p<=0?($(".checkbtn").text("获取验证码"),clearInterval(t),p=60,$(".checkbtn").attr("isState",0)):$(".checkbtn").text(p+" s")}var t,n,s=window.location.href,o=getUrlParam(s),a=o.word,r=o.urlName,c=o.userName,i=o.activityId,l=o.userItemsId,u=o.itemsId,g=o.loginSource,p=60,d=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var s=e.getDate();return s=s<10?"0"+s:s,t+n+s+e.getHours()+e.getMinutes()+e.getSeconds()}()+Math.random().toString(36).substr(2);!function(){n={partner:"alading",appName:"alading_web",token:d};var e=new Image(1,1);e.onload=function(){n.imgLoaded=!0},e.src=("https:"==document.location.protocol?"https://":"http://")+"fp.fraudmetrix.cn/fp/clear.png?partnerCode=alading&appName=alading_web&tokenId="+n.token;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://":"http://")+"static.fraudmetrix.cn/fm.js?ver=0.1&t="+((new Date).getTime()/36e5).toFixed(0);var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}(),$(".yhicon").click(function(){$(".yhinp").val(""),$(".yhicon").css("display","none")}),$(".yhinp").keyup(function(){""==$(".yhinp").val()?$(".yhicon").css("display","none"):$(".yhicon").css("display","block")}),$(".big-one").click(function(){$("#mobile").val("")}),$(".big-two").click(function(){$("#pasicon").val("")}),$(".checkbtn").click(function(){var n=$(".checkbtn").attr("isState"),s=$(".mobile").val();$("#password").val();if(0==n||!n){var o=/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(s);o?$.ajax({url:"/app/user/getRegisterSmsCode",type:"POST",dataType:"json",data:{mobile:s,token:d},success:function(n){n.success?($(".checkbtn").attr("isState",1),$(".checkbtn").text(p+" s"),t=setInterval(e,1e3)):requestMsg(n.msg)},error:function(){requestMsg("请求失败")}}):(console.log(o),requestMsg("请填写正确的手机号"))}}),$(".loginbtn").click(function(){var e=$(".check").val(),t=$(".mobile").val(),n=$("#pasicon").val();console.log(n),console.log(e),console.log(t);var s=$("#yzcheck").val(),p=/^1[3|4|5|7|8][0-9]{9}$/.test(t),d=/^\d{6}$/.test(s),m=/^(?![^a-zA-Z]+$)(?!\\D+$).{6,18}$/.test(n);if(p&&d&&""!=s&&m&&void 0!=n){var v=String(CryptoJS.MD5(n));$.ajax({url:"/H5GGShare/commitBouomeActivityRegister",type:"post",data:{registerMobile:t,smsCode:e,password:v,urlName:r},success:function(e){console.log(e);var t=JSON.parse(e);if(console.log(t),t.success){var n=o.urlName;requestMsg("注册成功"),setTimeout(function(){window.location.href="gglogin?urlName="+n+"&userName="+c+"&activityId="+i+"&userItemsId="+l+"&itemsId="+u+"&word="+a+"&loginSource="+g},1500)}else"Register"==t.url&&requestMsg(t.msg)},error:function(){requestMsg("绑定失败")}})}else p?d?requestMsg("请填写6-18位的数字、字母、字符组成的密码"):requestMsg("请填写正确的验证码"):requestMsg("请填写正确的手机号")})});
//# sourceMappingURL=../../_srcmap/activity/08/ggregister.js.map
