"use strict";function getUrlParam(e){var t=new Object;if(-1!=e.indexOf("?")){var s=e.substr(e.indexOf("?")+1,e.length),c=[];c=s.split("&");for(var n=0;n<c.length;n++)t[c[n].split("=")[0]]=unescape(c[n].split("=")[1])}return t}$(function(){function e(){u--,u<=0?($(".checkbtn").text("获取验证码"),clearInterval(t),u=60,$(".checkbtn").attr("isState",0)):$(".checkbtn").text(u+" s")}var t,s=window.location.href,c=getUrlParam(s),n=c.word,o=c.urlName,i=c.userName,r=c.activityId,a=c.userItemsId,l=c.itemsId,u=60;$(".yhicon").click(function(){$(".yhinp").val(""),$(".yhicon").css("display","none")}),$(".yhinp").keyup(function(){""==$(".yhinp").val()?$(".yhicon").css("display","none"):$(".yhicon").css("display","block")}),$(".mmicon").click(function(){$("#mobile").val("")}),$(".pasicon").click(function(){$("#pasicon").val("")}),$(".checkbtn").click(function(){var s=$(".checkbtn").attr("isState"),c=$(".mobile").val();$("#password").val();if(0==s||!s){var n=/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(c);n?$.ajax({url:"/app/user/getRegisterSmsCode",type:"POST",dataType:"json",data:{mobile:c},success:function(s){s.success?($(".checkbtn").attr("isState",1),$(".checkbtn").text(u+" s"),t=setInterval(e,1e3)):requestMsg(s.msg)},error:function(){requestMsg("请求失败")}}):(console.log(n),requestMsg("请填写正确的手机号"))}}),$(".loginbtn").click(function(){var e=$(".check").val(),t=$(".mobile").val(),s=$("#password").val();console.log(s),console.log(e),console.log(t);var u=$("#yzcheck").val(),g=/^1[3|4|5|7|8][0-9]{9}$/.test(t),v=/^\d{6}$/.test(u),d=/^(?![^a-zA-Z]+$)(?!\\D+$).{6,18}$/.test(s);if(g&&v&&""!=u&&d&&void 0!=s){var m=String(CryptoJS.MD5(s));$.ajax({url:"/H5GGShare/commitBouomeActivityRegister",type:"post",data:{registerMobile:t,smsCode:e,password:m,urlName:o},success:function(e){console.log(e);var t=JSON.parse(e);if(console.log(t),t.success){var s=c.urlName;requestMsg("注册成功"),setTimeout(function(){window.location.href="gglogin?urlName="+s+"&userName="+i+"&activityId="+r+"&userItemsId="+a+"&itemsId="+l+"&word="+n},1500)}else"Register"==t.url&&requestMsg(t.msg)},error:function(){requestMsg("绑定失败")}})}else g?v?requestMsg("请填写6-18位的数字、字母、字符组成的密码"):requestMsg("请填写正确的验证码"):requestMsg("请填写正确的手机号")})});
//# sourceMappingURL=../../_srcmap/activity/08/ggregister.js.map
