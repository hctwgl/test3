"use strict";function getData(i){for(var t=0;t<i;t++)$(".imgList .img:eq("+t+")").attr("data-slide-imgId",t);if(1==i)for(var t=0;t<i;t++)$(".imgList .img:eq("+t+")").addClass("img3");if(2==i)for(var t=0;t<i;t++)$(".imgList .img:eq("+t+")").addClass("img"+(t+3));if(3==i)for(var t=0;t<i;t++)$(".imgList .img:eq("+t+")").addClass("img"+(t+2));if(i>3&&i<6)for(var t=0;t<i;t++)$(".imgList .img:eq("+t+")").addClass("img"+(t+1));if(i>=6)for(var t=0;t<i;t++)t<5?$(".imgList .img:eq("+t+")").addClass("img"+(t+1)):$(".imgList .img:eq("+t+")").addClass("img5");touch&&k_touch(),imgClickFy()}function right(){for(var i=new Array,t=0;t<slideNub;t++)i[t]=$(".imgList .img[data-slide-imgId="+t+"]").attr("class");for(var t=0;t<slideNub;t++)0==t?$(".imgList .img[data-slide-imgId="+t+"]").attr("class",i[slideNub-1]):$(".imgList .img[data-slide-imgId="+t+"]").attr("class",i[t-1]);imgClickFy()}function left(){for(var i=new Array,t=0;t<slideNub;t++)i[t]=$(".imgList .img[data-slide-imgId="+t+"]").attr("class");for(var t=0;t<slideNub;t++)t==slideNub-1?$(".imgList .img[data-slide-imgId="+t+"]").attr("class",i[0]):$(".imgList .img[data-slide-imgId="+t+"]").attr("class",i[t+1]);imgClickFy()}function imgClickFy(){$(".imgList .img").removeAttr("onclick"),$(".imgList .img2").attr("onclick","left()"),$(".imgList .img4").attr("onclick","right()")}function k_touch(){function i(i){var t=i.targetTouches[0];e=t.pageX}function t(i){var t=i.targetTouches[0];s=e-t.pageX}function a(i){s<-100?(left(),s=0):s>100&&(right(),s=0)}var e=0,s=0,r=document.getElementById("slide");r.addEventListener("touchstart",i,!1),r.addEventListener("touchmove",t,!1),r.addEventListener("touchend",a,!1)}function alaShareData(){var i={appLogin:"Y",type:"share",shareAppTitle:"消费有返利 领取88.88元现金红包！",shareAppContent:"你的好友赠送了一张卡片给你，快领走吧~",shareAppImage:"https://fs.51fanbei.com/h5/common/icon/midyearCorner.png",shareAppUrl:domainName+"/activity/ggIndexShare?cardRid="+cardRid,isSubmit:"Y",sharePage:"ggIndexShare"};return JSON.stringify(i)}var touch=!0,slideNub,protocol=window.location.protocol,host=window.location.host,domainName=protocol+"//"+host,cardRid,activityId=getUrl("activityId"),userName=getCookie("userName");$(function(){$(".presentCard").click(function(){$.ajax({type:"get",url:"/H5GG/sendItems",data:{activityId:activityId,userName:userName},success:function(i){if(console.log(i),i.data.loginUrl)location.href=i.data.loginUrl;else{$(".imgList").empty();for(var t,a,e=i.data.itemsList,s=i.data.userItemsList,r=0,d="",g=0;g<e.length;g++)r+=e[g].num,0==r||r==e.length?requestMsg(i.msg):($(".alertPresent").css("display","block"),$(".mask").css("display","block"),$(".presentTitle").css("display","block"),$(".sure").html("确定赠送"),e[g].num>=2?d+='<div class="img" rid="'+e[g].rid+'"><img src="'+e[g].iconUrl+'"><p class="num">'+(e[g].num-1)+"</p></div>":d+='<div class="img" rid="'+e[g].rid+'"><img src="'+e[g].iconUrl+'"><p class="cardMask"></p></div>');$(".imgList").append(d),slideNub=$(".imgList .img").size(),getData(slideNub),$(".sure").click(function(){t=$(".img.img3").attr("rid");for(var i=0;i<s.length;i++)if((a=s[i].itemsId)==t){var e=[];e.push(s[i].rid)}cardRid=e[0],window.location.href=cardRid&&""!=cardRid?'/fanbei-web/opennative?name=APP_SHARE&params={"shareAppTitle":"消费有返利 领取88.88元现金红包！","shareAppContent":"你的好友赠送了一张卡片给你，快领走吧~","shareAppImage":"https://fs.51fanbei.com/h5/common/icon/midyearCorner.png","shareAppUrl":"'+domainName+"/activity/ggIndexShare?cardRid"+cardRid+'","isSubmit":"Y","sharePage":"ggIndexShare"}':"ggIndex"})}},error:function(){requestMsg("请求失败")}})})});
//# sourceMappingURL=../../_srcmap/activity/08/ggIndexPresent.js.map
