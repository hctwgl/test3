"use strict";var modelId=getUrl("modelId"),groupId=getUrl("groupId"),vm=new Vue({el:"#beauty",data:{content:{},couponCont:{}},created:function(){this.logData(),this.logCoupon()},methods:{logData:function logData(){var self=this;$.ajax({type:"post",url:"/fanbei-web/partActivityInfo",data:{modelId:modelId},success:function success(data){self.content=eval("("+data+")").data.activityList.slice(0,2),self.content.firstList=self.content[0].activityGoodsList,self.content.secondList=self.content[1].activityGoodsList,console.log(self.content),self.$nextTick(function(){$(".first").each(function(){$(this).load(function(){$(".loadingMask").fadeOut()}),setTimeout(function(){$(".loadingMask").fadeOut()},1e3)}),$(".loadingMask").fadeOut(),$("img.lazy").lazyload({placeholder:"https://f.51fanbei.com/h5/common/images/bitmap1.png",effect:"fadeIn",threshold:200})})},error:function(){requestMsg("哎呀，出错了！")}})},logCoupon:function logCoupon(){var self=this;$.ajax({type:"post",url:"/fanbei-web/activityCouponInfo",data:{groupId:groupId},success:function success(data){self.couponCont=eval("("+data+")").data,console.log(self.couponCont),self.$nextTick(function(){for(var o=0;o<self.couponCont.couponInfoList.length;o++)console.log(self.couponCont.couponInfoList[o].drawStatus),"Y"==self.couponCont.couponInfoList[o].drawStatus&&($(".coupon").eq(o).addClass("gray"),$(".coupon").eq(o).find(".couponStatus").html("已领取"))})},error:function(){requestMsg("哎呀，出错了！")}})},couponClick:function(o){var t=this,n=t.couponCont.couponInfoList[o].couponId;$.ajax({url:"/fanbei-web/pickCoupon",type:"POST",dataType:"JSON",data:{couponId:n},success:function(t){if(t.success)requestMsg("优惠劵领取成功"),$(".coupon").eq(o).addClass("gray"),$(".coupon").eq(o).find(".couponStatus").html("已领取");else{var n=t.data.status;"USER_NOT_EXIST"==n&&(window.location.href=t.url),"OVER"==n&&requestMsg("您已经领取，快去使用吧"),"COUPON_NOT_EXIST"==n&&requestMsg(t.msg),"MORE_THAN"==n&&requestMsg(t.msg)}},error:function(){requestMsg("哎呀，出错了！")}})},goodClick:function(o){"SELFSUPPORT"==o.source?window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"privateGoodsId":"'+o.goodsId+'"}':window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"goodsId":"'+o.goodsId+'"}'}}});
//# sourceMappingURL=../../_srcmap/activity/09/beauty.js.map
