"use strict";var couponArr=[];$(document).ready(function(){var t=parseInt($(".content").css("width"))-60,a=function a(){var n=parseInt(2*Math.random()+1),e=parseInt(70*Math.random()+35),r=parseInt(Math.random()*t),i=parseInt(90*Math.random()-45)+"deg";o++,$(".content").append("<li class='li"+o+"' ></li>"),$(".li"+o).css({left:r}),$(".li"+o).css({width:e,height:e,transform:"rotate("+i+")",background:"url(https://f.51fanbei.com/h5/app/activity/11/redRain"+n+".png) no-repeat center center","background-size":"100%","-ms-transform":"rotate("+i+")","-moz-transform":"rotate("+i+")","-webkit-transform":"rotate("+i+")","-o-transform":"rotate("+i+")"}),$(".li"+o).animate({top:$(window).height()+20},4e3,function(){this.remove()}),$(".li"+o).one("touchstart",function(){var t=this;parseInt(100*Math.random())>80&&couponArr.length<3?$.ajax({url:"/fanbei-web/redRain/applyHit",type:"post",success:function(a){a=JSON.parse(a),console.log(a),a.success?(couponArr.push(a.data),t.style.backgroundImage="url(https://f.51fanbei.com/h5/app/activity/11/redRain4.png)",s+=1,$(".noWard").hide(),$(".ward").show(),$(".redNum span:nth-child(2)").text("中红包数量："+s)):t.style.backgroundImage="url(https://f.51fanbei.com/h5/app/activity/11/redRain3.png)"},error:function(){t.style.backgroundImage="url(https://f.51fanbei.com/h5/app/activity/11/redRain3.png)"}}):t.style.backgroundImage="url(https://f.51fanbei.com/h5/app/activity/11/redRain3.png)"}),setTimeout(a,300)},n=function t(){if(--r>0)$(".redNum span:nth-child(1)").text(r),setTimeout(t,1e3);else{for(var a="",n=0;n<couponArr.length;n++)a+='<div class="wardCoupon">\n                          <span class="wardMoney"><span>￥</span>'+couponArr[n].amount+'</span>\n                          <span class="wardTxt">'+couponArr[n].couponName+"</span>\n                      </div>";$(".wardContent").html(a),$(".gameWard").show()}},e=6,r=21;!function t(){e--,e>0?($(".backward span").html(e),setTimeout(t,1e3)):($(".backward").remove(),n())}();var o=0,s=0;setTimeout(a,5e3)});
//# sourceMappingURL=../../_srcmap/activity/11/redRainActivity.js.map
