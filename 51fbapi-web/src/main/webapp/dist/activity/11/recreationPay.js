"use strict";var goodsId=getUrl("goodsId"),discout=getUrl("discout"),rebate=getUrl("rebate");$(function(){$(".footer").height("7%"),$(".gamePay").css("padding-top","3%");var e=$(window).height()-$(".footer").height()-.015*$(window).height();$(".allTop").height(e)});var vm=new Vue({el:"#recreationPay",data:{content:{},fixCont:{},dataType:"",allData:[],initChooseFirst:"",allDataLen:"",discout:discout,rebate:rebate},created:function(){this.logData()},methods:{rewritedata:function(e){var t=e,a=Object.create(null),n=function(e,t,a){return a?$(e).find(t).attr(a):$(e).find(t)},i=function(e,t){return $(e).attr(t)};(n(t,"game","name")||i(t,"name"))&&(a.gameName=n(t,"game","name")||i(t,"name"));var o=$(t).find("acctType").text();o?a.accountType=o:$(".gameNum").hide();var l=[];n(t,"type","name")?($(t).find("type").each(function(){l.push($(this).attr("name"))}),a.typeNameList=l):n(t,"types","name")?($(t).find("types").each(function(){l.push($(this).attr("name"))}),a.typeNameList=l):$(".gameType").hide();var s=[],r=[];r=$(t).find("type").children("quantity").text().split(",");var c=[];c=$(t).find("type").children("chargeNum").text().split(",");for(var d=0;d<r.length;d++){var m={quantity:r[d],chargeNum:c[d]};s.push(m)}return a.priceTypeList=s,a.priceTimes=$(t).find("type").children("quantity").attr("priceTimes"),$(t).find("type").children("chargeNum").attr("name")?a.chargeNumName=$(t).find("type").children("chargeNum").attr("name"):a.chargeNumName="",a},logData:function(){var e=this;$.ajax({type:"post",url:"/game/pay/goodsInfo",data:{goodsId:goodsId},success:function(t){e.content=t.data.content,e.dataType=t.data.xmlType,console.log(e.content),$(e.content).find("game").each(function(t,a){e.allData.push(e.rewritedata(a))}),console.log(e.allData,"全部数据"),console.log(e.allData.length,"全部数据长度"),e.initChooseFirst=e.allData[0],console.log(e.allData[0],"默认显示第一个数据"),e.allDataLen=e.allData.length,1==e.allDataLen&&(e.fixCont=e.allData[0]),e.$nextTick(function(){$(".gamePass input").attr("placeholder","请输入"+e.initChooseFirst.accountType),$(".typeList li").eq(0).addClass("changeColor01"),$(".typeList li").eq(0).find("p").addClass("changeColor02"),$(".moneyList li").eq(0).addClass("changeColor01"),$(".moneyList li").eq(0).find("p").addClass("changeColor02"),$(".payMoney span").html($(".moneyList li").eq(0).find(".typePrice").html()),$(".fanMoney span").html(($(".moneyList li").eq(0).find("i").html()*rebate).toFixed(2)+"元")})},error:function(){requestMsg("哎呀，出错了！")}})},gameNameClick:function(){for(var e=this,t=[],a=0;a<e.allData.length;a++)e.allData[a].gameName&&t.push({value:a,text:e.allData[a].gameName});var n=new mui.PopPicker({layer:1});n.setData(t),n.pickers[0].setSelectedIndex(0),n.show(function(t){var a=t[0].text;$(".gameName:first-child span").html(a),e.fixCont=e.allData[t[0].value],console.log(e.fixCont),n.dispose()})},gameTypeClick:function(e){$(".typeList li").eq(e).addClass("changeColor01"),$(".typeList li").eq(e).find("p").addClass("changeColor02"),$(".typeList li").eq(e).siblings().removeClass("changeColor01"),$(".typeList li").eq(e).siblings().find("p").removeClass("changeColor02")},gameMoneyClick:function(e){$(".moneyList li").eq(e).addClass("changeColor01"),$(".moneyList li").eq(e).find("p").addClass("changeColor02"),$(".moneyList li").eq(e).siblings().removeClass("changeColor01"),$(".moneyList li").eq(e).siblings().find("p").removeClass("changeColor02"),$(".payMoney span").html($(".moneyList li").eq(e).find(".typePrice").html()),$(".fanMoney span").html(($(".moneyList li").eq(e).find("i").html()*rebate).toFixed(2)+"元")},fixStrToNum:function(e){return parseInt(e)},fixNum:function(e){return e.toFixed(2)}}});
//# sourceMappingURL=../../_srcmap/activity/11/recreationPay.js.map
