"use strict";var protocol=window.location.protocol,host=window.location.host,domainName=protocol+"//"+host,shareInfo={title:"20元话费、300M流量，3元超值购点击即领",desc:"51返呗超值新人礼：20元话费3元领，快来抢购吧",link:domainName+"/fanbei-web/activity/newUser",imgUrl:"http://f.51fanbei.com/online/17f31c95deb17587.png",success:function(){alert("分享成功！")},error:function(){alert("分享失败！")},cancel:function(e){alert("取消分享！")}};$(function(){$.ajax({url:"/wechat/getSign",type:"POST",dataType:"json",data:{url:encodeURIComponent(window.location.href.split("#")[0])},success:function(e){var n={debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.sign,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]};wx.config(n)}})}),wx.ready(function(){wx.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.onMenuShareAppMessage(shareInfo),wx.onMenuShareTimeline(shareInfo),wx.onMenuShareQQ(shareInfo),wx.onMenuShareQZone(shareInfo),wx.onMenuShareWeibo(shareInfo)});var vm=new Vue({el:"#newUser",data:{content:{},ruleShow:!1},created:function(){this.logData()},methods:{logData:function(){var e=this;$.ajax({type:"post",url:"/activity/freshmanShare/homePage",success:function(n){console.log(n),e.content=n.data.goodsList,console.log(e.content),e.$nextTick(function(){$(".first").each(function(){$(this).load(function(){$(".loadingMask").fadeOut()}),setTimeout(function(){$(".loadingMask").fadeOut()},1e3)}),$(".loadingMask").fadeOut(),$("img.lazy").lazyload({placeholder:"https://f.51fanbei.com/h5/common/images/bitmap1.png",effect:"fadeIn",threshold:200})})},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/newUser?type=newUser_ini"},success:function(e){console.log(e)}})},activityDetailClick:function(){this.ruleShow=!0,$(".alertRule").animate({left:"15.4%"},600)},closeClick:function(){this.ruleShow=!1,$(".alertRule").animate({left:"140%"},600)},shareNowClick:function(){$.ajax({type:"post",url:"/activity/freshmanShare/isNew",success:function(e){if(console.log(e),e.msg&&"没有登录"==e.msg)window.location.href=e.data.loginUrl;else{var n='{"shareAppTitle":"20元话费、300M流量，3元超值购点击即领","shareAppContent":"51返呗超值新人礼：20元话费3元领，快来抢购吧~","shareAppImage":"http://f.51fanbei.com/h5/app/activity/11/newUser06.jpg","shareAppUrl":"'+domainName+'/fanbei-web/activity/newUserShare","isSubmit":"Y","sharePage":"newUserShare"}',a=BASE64.encoder(n);window.location.href="/fanbei-web/opennative?name=APP_SHARE&params="+a}},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/newUser?type=shareNow"},success:function(e){console.log(e)}})},inviteNowClick:function(){$.ajax({type:"post",url:"/activity/freshmanShare/isNew",success:function(e){console.log(e),e.msg&&"没有登录"==e.msg?window.location.href=e.data.loginUrl:window.location.href="https://app.51fanbei.com/fanbei-web/app/newinvite"},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/newUser?type=inviteNow"},success:function(e){console.log(e)}})},buyNowClick:function(e){$.ajax({type:"post",url:"/activity/freshmanShare/isNew",success:function(n){console.log(n),n.msg&&"没有登录"==n.msg?window.location.href=n.data.loginUrl:"Y"==n.data.isNew?"SELFSUPPORT"==e.source?window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"privateGoodsId":"'+e.numId+'"}':window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"goodsId":"'+e.numId+'"}':"N"==n.data.isNew&&requestMsg("您已不是新用户，暂不能购买，可以去邀请朋友购买或参加邀请有礼活动")},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/newUser?type=buyNow"},success:function(e){console.log(e)}})}}});
//# sourceMappingURL=../../_srcmap/activity/11/newUser.js.map
