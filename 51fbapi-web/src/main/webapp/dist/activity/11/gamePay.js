"use strict";function gameAreaTwo(a){var e=new mui.PopPicker({layer:2});e.setData(a),e.pickers[0].setSelectedIndex(0),e.pickers[1].setSelectedIndex(0),e.show(function(a){var t=a[0].text+"&nbsp"+a[1];$(".gameArea span").html(t),$(".gameArea span").css("color","#232323"),e.dispose()})}function gameAreaOne(a){var e=new mui.PopPicker({layer:1});e.setData(a),e.pickers[0].setSelectedIndex(0),e.show(function(a){var t=a[0];$(".gameArea span").html(t),$(".gameArea span").css("color","#232323"),e.dispose()})}var goodsId=getUrl("goodsId"),vm=new Vue({el:"#gamePay",data:{content:{},fixCont:{},dataType:"",allData:[],gameNameShow:""},created:function(){this.logData()},methods:{rewritedata:function(a){var e=a,t=Object.create(null),n=function(a,e,t){return t?$(a).find(e).attr(t):$(a).find(e)},r=function(a,e){return $(a).attr(e)};if((n(e,"game","name")||r(e,"name"))&&(t.gameName=n(e,"game","name")||r(e,"name")),$(e).find("area")&&$(e).find("area").attr("name")){$(".gameArea").show();var i=n(e,"areas"),s=i.length;if(s&&s>=2&&(t.areasList=i.map(function(a,e){var t=n(e,"area"),i=[];return t.length&&t.each(function(a,e){i.push(r(e,"name"))}),{text:r(e,"name"),children:i}}),t.areasList=Array.prototype.slice.call(t.areasList),t.areaslen=s),s&&1==s){var o=$(e).find("area").length,c=[];o&&$(e).find("area").each(function(){c.push($(this).attr("name"))}),t.areasList=c,t.areaslen=s}}var l=n(e,"type","name")||n(e,"types","name"),m=[];return l?($(e).find("type").each(function(){m.push($(this).attr("name"))}),t.typeNameList=m):$(".gameType").hide(),t.quantityList=[],t.quantityList=$(e).find("type").children("quantity").text().split(","),t.priceTimes=$(e).find("type").children("quantity").attr("priceTimes"),t.chargeNumList=[],t.chargeNumList=$(e).find("type").children("chargeNum").text().split(","),t},fixDataB:function(a){},logData:function(){var a=this;$.ajax({type:"post",url:"/game/pay/goodsInfo",data:{goodsId:goodsId},success:function(e){a.content=e.data.content,a.dataType=e.data.xmlType,console.log(a.content),"A"==a.dataType&&($(".gamePass").hide(),$(a.content).find("game").each(function(e,t){a.allData.push(a.rewritedata(t)),a.allData[e].gameName?a.gameNameShow="Y":a.gameNameShow="N"}),console.log(a.allData,11111)),"B"==a.dataType&&alert("B")},error:function(){requestMsg("哎呀，出错了！")}})},gameNameClick:function(){for(var a=this,e=[],t=0;t<a.allData.length;t++)a.allData[t].gameName&&e.push({value:t,text:a.allData[t].gameName});var n=new mui.PopPicker({layer:1});n.setData(e),n.pickers[0].setSelectedIndex(0),n.show(function(e){var t=e[0].text;$(".gameName:first-child span").html(t),$(".gameName:first-child span").css("color","#232323"),a.fixCont=a.allData[e[0].value],console.log(a.fixCont),n.dispose()})},gameAreaClick:function(){var a=this;a.fixCont.areaslen&&(1==a.fixCont.areaslen&&gameAreaOne(a.fixCont.areasList),a.fixCont.areaslen>=2&&gameAreaTwo(a.fixCont.areasList))},fixStrToNum:function(a){return parseInt(a)}}});
//# sourceMappingURL=../../_srcmap/activity/11/gamePay.js.map
