"use strict";function getUrlParam(i){var e=new Object;if(-1!=i.indexOf("?")){var n=i.substr(i.indexOf("?")+1,i.length),t=[];t=n.split("&");for(var s=0;s<t.length;s++)e[t[s].split("=")[0]]=unescape(t[s].split("=")[1])}return e}function getinfo(i){$.ajax({url:"/fanbei-web/activityUserInfo",data:{},type:"POST",dataType:"JSON",success:function(e){shareinfo.listDesc=e[0].listDesc[0],shareinfo.listTitle=e[0].listTitle[0],shareinfo.listPic=e[0].listPic[0],i(e[0])},error:function(i){requestMsg(i)}})}function _init(){$(".rule").on("click",function(){$("._global_mask").show(),$(".rulewindow").show()}),$(".rulewindow .close").on("click",function(){$("._global_mask").hide(),$(".rulewindow").hide()}),$(".buttons div").on("click",function(){$(".buttons div").removeClass("active"),$(this).addClass("active")})}function maidian(i){$.ajax({url:"/fanbei-web/shareActivity",data:{shareWith:"sharewith"+i},type:"POST",succuess:function(i){console.log(i)}})}window.shareinfo={},window.userId=getUrlParam("userId"),window.onload=function(){function i(i){var e=i.listRule,n=i.invitationCode,t=i.sumPrizeMoney,s=e.map(function(i,e){return"<p>"+(e+1)+"、"+i+"</p>"});$(".rulewindow .content").append(s.join("")),$(".invitecode").text(n),$(".invitecode")[0].dataset.clipboardText=n,$(".myreward span").text(t);var o=window.location.protocol,a=window.location.host,r=o+"//"+a;$(".rightown").on("click",function(){var i={shareAppTitle:shareinfo.listTitle,shareAppContent:shareinfo.listDesc,shareAppImage:shareinfo.listPic,shareAppUrl:r+"/fanbei-web/app/inviteregister?recommendCode="+n,isSubmit:"Y",sharePage:"inviteShare"};i=JSON.stringify(i);var e=BASE64.encoder(i);window.location.href="/fanbei-web/opennative?name=APP_SHARE&params="+e})}function e(){$(".loadall").show(),setTimeout(function(){$(".loadall").hide()},1500)}function n(i){function e(i){var e=i.split("");return e.splice(3,4,"****"),e.join("")}return i.map(function(i,n){return'<div class="item"><div>'+e(i.userName)+"</div><div>"+i.createTime.slice(0,10)+"</div><div class="+("0"===i.color?"":"red")+">"+i.status+"</div><div class="+("0"===i.color?"":"red")+">"+i.prize_money+"</div></div>"})}function t(i,e,n){$.ajax({url:"/fanbei-web/rewardQuery",data:{type:e,pageSize:5,currentPage:i},type:"POST",dataType:"JSON",success:function(i){c=i[0].count,n(i[0],e)},error:function(i){requestMsg(i)}})}function s(i,e){var t=i.rewardQueryList,s=void 0;s=t.length>0?n(t):'<div class="nodata">您暂无邀请！</div>',$(".list").html(s),1==e?a=1:r=1,$(".list").html(s),setTimeout(function(){l=!0,$(".loading").hide()},0)}function o(i,e){var t=i.rewardQueryList,s=n(t);1==e?a=1:r=1,$(".list").append(s),setTimeout(function(){l=!0,$(".loading").hide()},0)}_init(),new Clipboard(".invitecode").on("success",function(i){console.log(i)}),$(".copycode").on("click",function(){alert("已复制到剪贴板，可粘贴")}),getinfo(i);var a=1,r=1,l=!0,c=null;t(1,1,s),$(".buttons .sameLevel").on("click",function(i){$(".loading").show(),i.target.className.indexOf("levelone")>-1?t(1,1,s):t(1,2,s)}),$(".con").scroll(function(){$(this)[0].scrollTop+$(this).height()+40>=$(this)[0].scrollHeight&&(l&&$(this).find(".item").length<c?(l=!1,$(".loading").show(),$(".levelone").hasClass("active")?(a++,t(a,1,o)):(r++,t(r,2,o))):$(this).find(".item").length==c&&e())})},window.postshareex=function(i){maidian(i)},window.postshareaf=function(i){},$(function(){$(".levelthree").click(function(){$(".loading").show(),$(".list").empty(),$.ajax({type:"post",url:"/h5GgActivity/returnCoupon",success:function(i){$(".loading").hide(),console.log(i);var e=i.data.returnCouponList,n="";if(e&&e.length>0){for(var t=0;t<e.length;t++)"已完成"==e[t].status?n+='<div class="takeOutMoney"><span>'+e[t].inviteeMobile+"</span>\n                    <span>"+e[t].registerTime+'</span>\n                    <span style="color:#f0110e">'+e[t].status+"</span>\n                    <span>"+e[t].reward+"</span></div>":n+='<div class="takeOutMoney"><span>'+e[t].inviteeMobile+"</span>\n                    <span>"+e[t].registerTime+"</span>\n                    <span>"+e[t].status+"</span>\n                    <span>"+e[t].reward+"</span></div>";$(".list").append(n)}else $(".list").append('<div class="nodata">您暂无邀请！</div>')},error:function(){requestMsg("哎呀，出错了！")}})})});
//# sourceMappingURL=../../_srcmap/activity/11/ggInvite.js.map
