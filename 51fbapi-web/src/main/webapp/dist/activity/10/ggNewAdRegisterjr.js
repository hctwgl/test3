"use strict";function formatDateTime(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var o=e.getDate();return o=o<10?"0"+o:o,t+a+o+e.getHours()+e.getMinutes()+e.getSeconds()}function getUrlParam(e){var t=new Object;if(-1!=e.indexOf("?")){var a=e.substr(e.indexOf("?")+1,e.length),o=[];o=a.split("&");for(var s=0;s<o.length;s++)t[o[s].split("=")[0]]=unescape(o[s].split("=")[1])}return t}var token=formatDateTime()+Math.random().toString(36).substr(2);$(function(){function e(){i--,i<=0?($(".checkbtn").text("获取验证码"),clearInterval(t),i=60,$(".checkbtn").attr("isState",0)):$(".checkbtn").text(i+" s")}var t,a=window.location.href,o=getUrlParam(a),s=(o.urlName,o.activityId),i=60,n=o.typeFrom,r=o.typeFromNum;$(".clearValOne").click(function(){$("#mobile").val("")}),$(".clearValTwo").click(function(){$("#password").val("")}),$(".checkbtn").click(function(){var e=$(".mobile").val();!isNaN(e)&&/^1(3|4|5|6|7|8|9)\d{9}$/i.test(e)?$.ajax({url:"/app/user/getImgCode",type:"POST",dataType:"JSON",data:{mobile:e},success:function(e){console.log(e),$(".mask").show(),$(".imgVftCodeWrap").removeClass("hide"),$("#imgVftCodeWrapImg").attr("src","data:image/png;base64,"+e.data),$("#imgVftCodeClose").click(function(){$(".mask").hide(),$(".imgVftCodeWrap").addClass("hide")})},error:function(){requestMsg("请求失败")}}):requestMsg("请填写正确的手机号"),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/ggNewAdjr?activityId=1&type=new_img&typeFrom="+n+"&typeFromNum="+r},success:function(e){console.log(e)}})}),$("#imgVftCodeRefresh").click(function(){var e=$(".mobile").val();$.ajax({url:"/app/user/getImgCode",type:"POST",dataType:"JSON",data:{mobile:e},success:function(e){console.log(e),$(".mask").show(),$(".imgVftCodeWrap").removeClass("hide"),$("#imgVftCodeWrapImg").attr("src","data:image/png;base64,"+e.data),$("#imgVftCodeClose").click(function(){$(".mask").hide(),$(".imgVftCodeWrap").addClass("hide")})},error:function(){requestMsg("请求失败")}})}),$("#imgVftCodeSbumit").click(function(){var a=$(".checkbtn").attr("isState"),o=$(".mobile").val(),s=($("#password").val(),$("#imgVftCode").val());if(0==a||!a){var c=/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(o);c?$.ajax({url:"/app/user/getRegisterSmsCode",type:"POST",dataType:"json",data:{mobile:o,token:token,verifyImgCode:s,bsqToken:token},success:function(a){a.success?($(".mask").hide(),$(".imgVftCodeWrap").addClass("hide"),$(".checkbtn").attr("isState",1),$(".checkbtn").text(i+" s"),t=setInterval(e,1e3)):requestMsg(a.msg)},error:function(){requestMsg("请求失败")}}):(console.log(c),requestMsg("请填写正确的手机号"))}$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/ggNewAdjr?activityId=1&type=new_sure&typeFrom="+n+"&typeFromNum="+r},success:function(e){console.log(e)}})}),$(".loginbtn").click(function(){var e=$(".check").val(),t=$(".mobile").val(),a=$("#password").val(),o=$("#yzcheck").val(),i=/^1[3|4|5|6|7|8|9][0-9]{9}$/.test(t),c=/^\d{6}$/.test(o),l=/^(?![^a-zA-Z]+$)(?!\\D+$).{6,18}$/.test(a),d=String(CryptoJS.MD5(a));console.log(t),i&&c&&""!=o&&l&&void 0!=a?$.ajax({url:"/H5GGShare/boluomeActivityRegisterLogin",type:"post",data:{registerMobile:t,smsCode:e,password:d,token:token,activityId:s,typeFrom:n,typeFromNum:r,bsqToken:token},success:function(e){console.log(0),console.log(e);var t=JSON.parse(e);t.success?(requestMsg("注册成功"),_taq.push({convert_id:"72607366923",event_type:"form"}),window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.alfl.www"):requestMsg(t.msg)},error:function(){requestMsg("绑定失败")}}):i?c?requestMsg("请填写6-18位的数字、字母、字符组成的密码"):requestMsg("请填写正确的验证码"):requestMsg("请填写正确的手机号"),$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/ggNewAdjr?activityId=1&type=new_get&typeFrom="+n+"&typeFromNum="+r},success:function(e){console.log(e)}})})});
//# sourceMappingURL=../../_srcmap/activity/10/ggNewAdRegisterjr.js.map
