"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function AutoScroll(t,i){$(t).find("ul:first").animate({marginTop:i},500,function(){$(this).css({marginTop:"0"}).find("li:first").appendTo(this)})}function goUp(){$(".mask").css("display","block"),$("#allToy #getPrize").slideDown(),$("#allToy .gotoTop").css("transform","rotate(180deg)")}function goDown(){$(".mask").css("display","none"),$("#allToy #getPrize").slideUp(),$("#allToy .gotoTop").css("transform","rotate(0deg)")}var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),game=function(){function t(i,n){_classCallCheck(this,t),this.init={num:-i,time:n},this.num=-i,this.time=n,$("#playBtn").click(this.claw.bind(this))}return _createClass(t,[{key:"start",value:function(){this.reset(),this.run(),clearTimeout(this.Countdown),this.Countdown=setTimeout(function(){$("#startBtn").show(),alert("游戏结束")},2e4)}},{key:"run",value:function(){this.doll(),clearInterval(this.startMove),this.startMove=setInterval(function(){this.num>=0&&(this.num=-8.25,$("#scroll").animate({marginLeft:this.num+"rem"},0,"linear")),this.num=(Math.round(1e3*this.num)+1650)/1e3,$("#scroll").animate({marginLeft:this.num+"rem"},1e3,"linear")}.bind(this),1e3)}},{key:"reset",value:function(){$("#scroll").animate({marginLeft:this.init.num+"rem"},0,"linear"),$("#claw").css("backgroundImage","url(https://fs.51fanbei.com/h5/app/activity/06/ni_claw1.png)"),this.num=this.init.num,this.time=this.init.time,clearInterval(this.timeStart),this.timeStart=setInterval(function(){this.time<=0?this.time=0:this.time-=1,$("#time").html(this.time+"秒")}.bind(this),1e3)}},{key:"doll",value:function(){for(var t=[5,2,6,1,8,5,2,6,1,8],i="",n=0;n<t.length;n++)i+='<span data-prop="'+t[n]+'" class="doll"><div class="doll-main" style="background-image: url(\'https://fs.51fanbei.com/h5/app/activity/06/ni_boll'+t[n]+".png')\"></div></span>";$("#scroll").html(i)}},{key:"alertMsg",value:function(){}},{key:"claw",value:function(){var t=$("#claw").offset().left;$(".button").attr("disabled","disabled"),$("#claw").animate({top:"-.5rem"},1500,function(){$(".doll").each(function(){var i=$(this),n=i.offset().left;if(n>t-10&&n<t+35){var e=i.attr("data-prop");console.log("ok"),Math.floor(10*Math.random()+1)>3&&($("#claw").css("backgroundImage","url(https://fs.51fanbei.com/h5/app/activity/06/ni_claw2.png)"),i.find(".doll-main").css({position:"absolute",left:"2.47rem"}).animate({top:"-2.2rem"},800,function(){$(".doll[data-prop="+e+"]").css("visibility","hidden"),$("#startBtn").show()}))}}),$("#claw").animate({top:"-2rem"},1e3,function(){$(".button").removeAttr("disabled")})})}}]),t}(),sixGame=new game(16.5,20);sixGame.run(),$("#startBtn").click(function(){sixGame.start(),$(this).hide()}),$("#shadow").click(function(){$(this).hide(),$(".alert").hide()}),$(document).ready(function(){setInterval('AutoScroll(".roll01","-1rem")',1e3),setInterval('AutoScroll(".roll02","-.55rem")',1e3)}),$(function(){var t=1;$("#allToy .gotoTop").click(function(){1==t?(goUp(),t=0):(goDown(),t=1)}),$(".mask").click(function(){goDown(),t=1})});
//# sourceMappingURL=../../_srcmap/activity/06/game.js.map
