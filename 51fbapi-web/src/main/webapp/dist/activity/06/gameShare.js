"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function dataInit(){$.ajax({url:"/fanbei-web/initGame.htm",type:"post",success:function success(data){if(data=eval("("+data+")"),console.log(data),data.success){for(var con="",i=0;i<data.data.awardList.length;i++)con+='<li>\n                    <div class="personImg" style="background-image:url(\''+data.data.awardList[i].avatar+"')\"></div>\n                    <h2><span>"+data.data.awardList[i].userName+"</span><span>"+data.data.awardList[i].msg+"</span></h2></li>";$(".awardList").html(con)}else requestMsg("中奖名单获取失败")}})}function AutoScroll(t,a){$(t).find("ul:first").animate({marginTop:a},500,function(){$(this).css({marginTop:"0"}).find("li:first").appendTo(this)})}function goUp(){$("#shadow").css("display","block"),$("#getPrize").slideDown(),$("#allToy").css("z-index",300),$("#allToy .gotoTop").css("transform","rotate(180deg)")}function goDown(){$("#shadow").css("display","none"),$("#getPrize").slideUp(),$("#allToy").css("z-index",150),$("#allToy .gotoTop").css("transform","rotate(0deg)")}var _createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(a,e,i){return e&&t(a.prototype,e),i&&t(a,i),a}}(),userName="";getInfo().userName&&(userName=getInfo().userName);var chance=[],isLogin=void 0,isShow=void 0,recommendCode=getUrl("recommendCode");dataInit();var game=function(){function t(a,e){_classCallCheck(this,t),this.init={num:-a,time:e},this.num=-a,this.time=e,$("#playBtn").click(this.claw.bind(this))}return _createClass(t,[{key:"start",value:function(){var t=this;this.reset(),this.doll(),clearInterval(this.startMove),this.startMove=setInterval(function(){t.num>=0&&(t.num=-8.25,$("#scroll").animate({marginLeft:t.num+"rem"},0,"linear")),t.num=(Math.round(1e3*t.num)+1650)/1e3,$("#scroll").animate({marginLeft:t.num+"rem"},1e3,"linear")},1e3),clearTimeout(this.Countdown),this.Countdown=setTimeout(function(){"No"!=isShow&&t.alertMsg("end")},2e4),setTimeout(function(){$(".modelPic").hide()},1e3)}},{key:"reset",value:function(){$("#scroll").animate({marginLeft:this.init.num+"rem"},0,"linear"),$("#claw").css("backgroundImage","url(https://f.51fanbei.com/h5/app/activity/06/ni_claw1.png)"),this.num=this.init.num,this.time=this.init.time,clearInterval(this.timeStart),this.timeStart=setInterval(function(){this.time<=0?this.time=0:this.time-=1,$("#time").html(this.time+"秒")}.bind(this),1e3)}},{key:"doll",value:function(){for(var t=[1,2,3,4,5,1,2,3,4,5],a="",e=0;e<t.length;e++)a+='<span data-prop="'+t[e]+'" class="doll"><div class="doll-main" style="background-image: url(\'https://f.51fanbei.com/h5/app/activity/06/ni_boll'+t[e]+".png')\"></div></span>";$("#scroll").html(a)}},{key:"alertMsg",value:function(t,a){isShow="No",$(".ad").hide(),"end"==t&&($(".getState").html("抓取失败"),$(".jushuo").show()),"claw"==t&&($(".getState").html("抓取成功"),$(".getCashCoupon").show()),$("#alert").show(),$("#shadow").show(),$(".tryAgain").click(function(){$("#shadow").hide(),$(".alert").hide()}),$(".goSign").click(function(){location.href="gameRegister?recommendCode="+recommendCode,$("#shadow").hide(),$(".alert").hide()}),$("#startBtn").show(),$(".modelPic").show()}},{key:"claw",value:function(){var t=this,a=$("#claw").offset().left;$(".button").attr("disabled","disabled"),$("#claw").animate({top:"-.5rem"},1500,function(){$(".doll").each(function(){var e=$(this),i=e.offset().left;if(i>a-10&&i<a+35){var n=e.attr("data-prop");$("#claw").css("backgroundImage","url(https://f.51fanbei.com/h5/app/activity/06/ni_claw2.png)"),e.find(".doll-main").css({position:"absolute",left:"2.47rem"}).animate({top:"-2.2rem"},800,function(){$(".doll[data-prop="+n+"]").css("visibility","hidden"),t.alertMsg("claw",n)})}}),$("#claw").animate({top:"-2rem"},1e3,function(){$(".button").removeAttr("disabled")})})}}]),t}(),sixGame=new game(16.5,20);sixGame.doll(),$("#startBtn").click(function(){isShow="yes";var t=$(this);$(".play").animate({top:"10.25rem"},200,function(){$(".play").animate({top:"10.23rem"},150),sixGame.start(),t.hide(),console.log(chance)})}),$("#shadow").click(function(){$(this).hide(),$(".alert").hide()}),$("#rule").click(function(){$("#rules").css("display","block"),$("#shadow").show()}),$(".closeRules").click(function(){$("#rules").css("display","none"),$("#shadow").hide()}),$(document).ready(function(){setInterval('AutoScroll(".roll01","-1rem")',1e3)}),$(function(){var t=1;$("#allToy .gotoTop").click(function(){1==t?(goUp(),t=0):(goDown(),t=1)}),$("#shadow").click(function(){goDown(),t=1})});
//# sourceMappingURL=../../_srcmap/activity/06/gameShare.js.map
