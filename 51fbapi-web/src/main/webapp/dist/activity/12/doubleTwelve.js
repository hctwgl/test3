"use strict";function alaShareData(){var o={appLogin:"N",type:"share",shareAppTitle:"双12狂欢盛宴 畅想欢乐购 ",shareAppContent:"抢神券红包雨 1212元秒杀iPhone 6，双12任性到底，欢乐购不停~",shareAppImage:"http://f.51fanbei.com/h5/app/activity/12/double12_share.png",shareAppUrl:domainName+"/fanbei-web/activity/doubleTwelve?groupId="+groupId+"&spread=2",isSubmit:"Y",sharePage:"doubleTwelve"};return JSON.stringify(o)}var protocol=window.location.protocol,host=window.location.host,urlHost=protocol+"//"+host,domainName=protocol+"//"+host,groupId=getUrl("groupId"),goodArr=[{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/apple.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/huawei.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/huaweirongyao.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/meizu.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/oppo.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/sansung.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/vivo.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/xiaomi.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"}],goodArr1=[{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/adidas.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/anta.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/efri.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/meilv.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/newbalance.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/nike.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/peacebird.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/samsontie.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"}],goodArr2=[{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/amani.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/casio.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/DW.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/rossini.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/tianwang.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/tissot.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/swarovski.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/zhoudafu.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"}],goodArr3=[{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/joyoung.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/liven.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/midea.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/philips.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/sunsung2.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"},{img:"https://f.51fanbei.com/h5/app/activity/12/double12_brand/supor.png",link:"https://app.51fanbei.com/app/goods/goodsListModel?modelId=187"}],userName=getUrl("userName"),spread=getUrl("spread"),vm=new Vue({el:"#main",data:{goodsData:[],tabs:[{tab:"电子数码",key:0},{tab:"鞋服箱包",key:1},{tab:"手表配饰",key:2},{tab:"家电类目",key:3}],goods:[goodArr,goodArr1,goodArr2,goodArr3],pretab:0,nowkey:0,couponData:[],currentData:[],redRainData:[],couponFlag:!0,triangleFlag:0,topFalg:1,downTime:{d:0,h:0,m:0,s:0},touchstartx:null,touchendx:null,touchdefx:null,touchstarty:null,touchendy:null,touchdefy:null,isApp:!0,couponUrl:"/activity/double12/couponHomePage"},created:function(){this.isAppFn(),this.maidian("enter=true")},watch:{nowkey:function(o){var t=-$(".rule").width();$("body").scrollTop($(".goodpi").offset().top-50),this.$nextTick(function(){$(".goodpi").css({transform:"translateX("+t*o+"px)",height:$($(".goodeach")[o]).height()})})},touchdefx:function(o){this.isScroll&&(o>80?this.nowkey<this.goods.length-1&&this.nowkey++:o<-80&&this.nowkey>0&&this.nowkey--)}},computed:{couponNum:function(){return this.firstGoods.couponList?this.firstGoods.couponList.filter(function(o,t){return 0!=o.state}).length:0},isScroll:function(){return Math.abs(this.touchdefy)<50}},mounted:function(){var o=this,t=this;this.$nextTick(function(){setTimeout(function(){$(".good_tab").pin({containerSelector:".good_con"}),$(".goodpi").css({width:$(".rule").width()*t.goods.length+"px",height:$($(".goodeach")[o.nowkey]).height()}),$(".goodeach").css({width:$(".rule").width()+"px"}),$(".goodpi").on("touchstart",function(o){var a=o.originalEvent.targetTouches[0];t.touchstartx=a.pageX,t.touchstarty=a.clientY}),$(".goodpi").on("touchend",function(o){var a=o.originalEvent.changedTouches[0];t.touchendx=a.pageX,t.touchendy=a.clientY,t.touchdefy=t.touchstarty-t.touchendy,t.touchdefx=t.touchstartx-t.touchendx})},0)})},methods:{changetab:function(o){this.pretab=this.nowkey,this.nowkey=o},linkto:function(o){if(this.maidian("good="+encodeURI(o.link)),!this.isApp)return this.toRegister(),!1;window.location.href=o.link},isAppFn:function(){""!=getUrl("spread")&&(this.isApp=!1,this.couponUrl="/activityH5/double12/couponHomePage"),this.logData()},logData:function(){var o=this;$.ajax({url:o.couponUrl,type:"POST",dataType:"json",data:{groupId:groupId},success:function(t){if(!t.success)return""!=t.data?location.href=t.data.loginUrl:requestMsg("哎呀，获取优惠券出错了！"),!1;o.couponData=t.data.couponList},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/activity/double12/goodsHomePage",type:"POST",dataType:"json",success:function(t){if(console.log(t.data),!t.success)return requestMsg("哎呀，获取商品信息出错了！"),!1;o.goodsData=t.data.goodsMap;var a=!1;for(var i in o.goodsData)if(o.goodsData.hasOwnProperty(i)){var e=o.goodsData[i];"O"==e.type&&(o.currentData=e,o.triangleFlag=i,a=!0)}a?o.$nextTick(function(){var o=$("#dayBox").width(),t=$(".status-2").width(),a=(o-t)/2,i=$(".status-2").offset().left;if(i>a){var e=i-a;$("#dayBox").scrollLeft(e)}}):(o.currentData=o.goodsData[5],o.triangleFlag=5)},error:function(){requestMsg("哎呀，出错了！")}}),$.ajax({url:"/activity/double12/startTime",type:"POST",dataType:"json",success:function(t){if(!t.success)return!1;o.redRainData=t.data,o.countDown(),o.calTime()},error:function(){requestMsg("哎呀，出错了！")}})},countDown:function(){var o=this;setInterval(function(){var t=(o.redRainData.startTime-o.redRainData.currentTime)/1e3,a=0,i=0,e=0,p=0;t>=0&&(a=Math.floor(t/60/60/24),i=Math.floor(t/60/60%24),e=Math.floor(t/60%60),p=Math.floor(t%60)),o.downTime.d=a,o.downTime.h=i,o.downTime.m=e,o.downTime.s=p,o.redRainData.currentTime+=1e3},1e3)},calTime:function(){var o=this,t=o.redRainData.currentTime/1e3,a=1512403200;o.topFalg=t<a?1:t>=a&&t<1512835200?2:3},couponClick:function(o,t){var a=this,i=o.id;return a.isApp?"Y"==o.isGet?(requestMsg("您已经领取过了，快去使用吧"),!1):"N"==o.isShow?(requestMsg("活动暂未开始"),!1):"E"==o.isShow?(requestMsg("活动已结束"),!1):void $.ajax({url:"/fanbei-web/pickCoupon",type:"POST",dataType:"JSON",data:{couponId:i},success:function(o){if(console.log(o),o.success)requestMsg("优惠劵领取成功"),a.$set(a.couponData[t],"isGet","Y"),a.maidian("couponSuccess=true");else{var i=o.data.status;"USER_NOT_EXIST"==i&&(window.location.href=o.url),"OVER"==i&&(requestMsg("您已经领取过了，快去使用吧"),a.maidian("couponSuccess=got")),"COUPON_NOT_EXIST"==i&&(requestMsg(o.msg),a.maidian("couponSuccess=noCoupon")),"MORE_THAN"==i&&(requestMsg(o.msg),a.maidian("couponSuccess=end"))}},error:function(){requestMsg("哎呀，出错了！")}}):(this.toRegister(),!1)},buy:function(o){this.isApp?window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"privateGoodsId":"'+o+'"}':this.toRegister()},maidian:function(o){$.ajax({url:"/fanbei-web/postMaidianInfo",type:"post",data:{maidianInfo:"/fanbei-web/activity/doubleTwelve?userName="+userName+"&"+o+"&spread="+spread},success:function(o){console.log(o)}})},changeFlag:function(){if(this.couponFlag=!this.couponFlag,this.couponFlag)$("#couponBox").animate({height:"3rem"},"normal","linear");else{var o=2*$("#couponUl").height()/100+.4;$("#couponBox").animate({height:o+"rem"},"normal","linear")}},changeProduct:function(o){this.currentData=this.goodsData[o],this.triangleFlag=o},toRegister:function(){location.href="doubleTwelveRegister?spread="+spread}}});
//# sourceMappingURL=../../_srcmap/activity/12/doubleTwelve.js.map
