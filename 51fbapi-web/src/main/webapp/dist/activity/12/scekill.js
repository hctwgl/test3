"use strict";var finished=0,vm=new Vue({el:"#vueCon",data:{content:{bannerList:["https://img.51fanbei.com/h5/app/activity/05/mayMovie_01_2.jpg"],goodsList:[]},type:1},created:function(){this.logData(1)},methods:{logData:function logData(page){var self=this,url="/fanbei-web/activity/getFlashSaleGoods";2===self.type&&(url="/fanbei-web/activity/getBookingRushGoods"),$.ajax({url:url,type:"post",data:{pageNo:page},success:function success(data){data=eval("("+data+")"),data.success?(1===self.type&&(self.content.bannerList=data.data.BannerList),self.content.goodsList=data.data.goodsList,console.log(self.content),finished=0,self.$nextTick(function(){new Swiper(".banner",{loop:!0,autoplay:4e3,pagination:".img-pagination"})})):window.location.href=data.url}})},loading:function(t){var a=t.volume,e=t.total;return a<e?parseInt(a/e*100)+"%":0},typeClick:function(t){this.type=t,this.logData(1)},remind:function remind(data){"N"==data.reserve?$.ajax({url:"/fanbei-web/activity/reserveGoods",type:"post",data:{goodsId:data.goodsId},success:function success(res){res=eval("("+res+")"),res.success?(requestMsg(res.msg),data.reserve="Y"):requestMsg(res.msg)}}):requestMsg("您已预约过，无需再预约")},goodsClick:function goodsClick(data){$.ajax({url:"/fanbei-web/activity/checkGoods",type:"post",data:{goodsId:data.goodsId},success:function success(res){res=eval("("+res+")"),res.success?window.location.href='/fanbei-web/opennative?name=GOODS_DETAIL_INFO&params={"privateGoodsId":"'+data.goodsId+'"}':(requestMsg(res.msg),data.volume=data.total)}})}}}),page=1;$(window).on("scroll",function(){if(0===finished){var scrollTop=$(this).scrollTop(),allHeight=$(document).height(),windowHeight=$(this).height();if(allHeight-windowHeight<=scrollTop+400){page++,finished=1;var url="/fanbei-web/activity/getFlashSaleGoods";2===vm.type&&(url="/fanbei-web/activity/getBookingRushGoods"),$.ajax({url:url,type:"post",data:{pageNo:page},success:function success(data){data=eval("("+data+")"),data.data.goodsList.length>0&&(1===vm.type&&(vm.content.bannerList=data.data.BannerList),vm.content.goodsList=vm.content.goodsList.concat(data.data.goodsList),console.log(vm.content),finished=0)}})}}});
//# sourceMappingURL=../../_srcmap/activity/12/scekill.js.map
