{"version":3,"sources":["js/base.js"],"names":["requestMsg","msg","layer","content","skin","getUrl","para","paraArr","search","substring","split","location","i","length","getInfo","url","toString","decodeURIComponent","toDecimal2","x","f","parseFloat","isNaN","fM","Math","round","s","rs","indexOf","getBlatFrom","u","navigator","userAgent","isAndroid","isiOS","match","formatDate","now","Date","parseInt","getFullYear","getMonth","getDate","getCookie","cookie_name","allcookies","document","cookie","cookie_pos","cookie_end","value","unescape","domainName","window","protocol","host","txtFix","str","len","char_length","son_str","encodeURI","charAt","sub_len","tel","telLength","telNum","replace","lazy","undefined","store","offset","_inView","el","getBoundingClientRect","coords","top","innerHeight","documentElement","clientHeight","_pollImages","self","getAttribute","src","_throttle","poll","clearTimeout","init","of","nodes","addEventListener","attachEvent"],"mappings":"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","file":"../../js/base.js","sourcesContent":["/*\n * @Author: yoe\n * @Date:   2017-02-15 09:59:54\n * @Last Modified by:   Marte\n * @Last Modified time: 2017-06-08 11:22:16\n * @title:  公用的\n */\n\n\n// 公用弹框内容\nfunction requestMsg(msg) {\n    layer.open({\n        content: msg,\n        skin: 'msg',\n        time: 2\n    });\n}\n\n// 获取当前页面的URL 对其带的参数进行处理\nfunction getUrl(para) {\n    var paraArr = location.search.substring(1).split(\"&\");\n    for (var i = 0; i < paraArr.length; i++) {\n        if (para == paraArr[i].split('=')[0]) {\n            return paraArr[i].split('=')[1];\n        }\n    }\n    return '';\n}\n\n// 获取当前页面的URL 对其带的参数进行处理\nfunction getInfo() {\n    var url = decodeURIComponent(location.toString());\n    var paraArr = url.toString().split(\"_appInfo=\");\n\n    if (paraArr.length > 1) {\n        return eval('(' + paraArr[1] + ')');\n    } else {\n        return ''\n    }\n\n}\n\n// 处理默认的保留二位小数\nfunction toDecimal2(x) {\n    var f = parseFloat(x);\n    if (isNaN(f)) {\n        return false;\n    }\n    var fM = Math.round(x * 100) / 100;\n    var s = fM.toString();\n    var rs = s.indexOf('.');\n    if (rs < 0) {\n        rs = s.length;\n        s += '.';\n    }\n    while (s.length <= rs + 2) {\n        s += '0';\n    }\n    return s;\n}\n\n// 判断ios系统还是android系统\nfunction getBlatFrom() {\n    var u = navigator.userAgent;\n    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端\n    var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n    // 返回1是android系统\n    if (isAndroid) {\n        return 1;\n    }\n    // 返回2是ios系统\n    if (isiOS) {\n        return 2;\n    }\n    return 0;\n}\n\n// 时间戳转换\nfunction formatDate(now) {\n    now = new Date(parseInt(now));\n    var year = now.getFullYear();\n    var month = now.getMonth() + 1;\n    var date = now.getDate();\n    // var hour=now.getHours();\n    // var minute=now.getMinutes();\n    // var second=now.getSeconds();\n    // return \"20\"+year+\"-\"+month+\"-\"+date+\" \"+hour+\":\"+minute+\":\"+second;\n    return year + \"-\" + month + \"-\" + date;\n}\n\n// 获取cookie里面的参数\nfunction getCookie(cookie_name) {\n    var allcookies = document.cookie;\n    var cookie_pos = allcookies.indexOf(cookie_name);   //索引的长度\n\n    // 如果找到了索引，就代表cookie存在，\n    // 反之，就说明不存在。\n    if (cookie_pos != -1) {  // 把cookie_pos放在值的开始，只要给值加1即可。\n        cookie_pos += cookie_name.length + 1;  // 这里容易出问题，所以请大家参考的时候自己好好研究一下\n        var cookie_end = allcookies.indexOf(\";\", cookie_pos);\n\n        if (cookie_end == -1) {\n            cookie_end = allcookies.length;\n        }\n\n        var value = unescape(allcookies.substring(cookie_pos, cookie_end));  //这里就可以得到你想要的cookie的值了。。。\n    }\n    return value;\n};\n\n// 获取网站的域名\nfunction domainName() {\n    var protocol = window.location.protocol;\n    var host = window.location.host;\n    var domainName = protocol + '//' + host;\n    return domainName;\n}\n\n//限制文字数量\nfunction txtFix(str,len){\n    var char_length = 0;\n    if(str.length<=len){\n        return str\n    }else{\n        for (var i = 0; i < str.length; i++){\n            var son_str = str.charAt(i);\n            encodeURI(son_str).length > 2 ? char_length += 2 : char_length += 1;\n            if (char_length >= len){\n                var sub_len = (char_length == len) ? i+1 : i;\n                return str.substr(0, sub_len);\n                break;\n            }\n        }\n    }\n}\n\n//图片懒加载\nwindow.lazy = (function(window, document, undefined) {\n\n    'use strict';\n\n    var store = [],\n        offset,\n        poll;\n\n    var _inView = function(el) {\n        var coords = el.getBoundingClientRect();\n        return ((coords.top >= 0 && coords.left >= 0 && coords.top) <= ((window.innerHeight || document.documentElement.clientHeight) + parseInt(offset)));\n    };\n\n    var _pollImages = function() {\n        for (var i = store.length; i--;) {\n            var self = store[i];\n            if (_inView(self)) {\n                self.src = self.getAttribute('lazy-src');\n                store.splice(i, 1);\n            }\n        }\n    };\n\n    var _throttle = function() {\n        clearTimeout(poll);\n        poll = setTimeout(_pollImages,0);\n    };\n\n    var init = function(of) {\n        var nodes = document.querySelectorAll('[lazy-src]');\n        offset = of || 0;\n        for (var i = 0; i < nodes.length; i++) {\n            store.push(nodes[i]);\n        }\n        _throttle();\n\n        if (document.addEventListener) {\n            window.addEventListener('scroll', _throttle, false);\n        } else {\n            window.attachEvent('onscroll', _throttle);\n        }\n    };\n\n    return {\n        init: init,\n        render: _throttle\n    };\n\n})(window, document);\n\n\n// 隐藏电话号码的中间四位\nfunction formateTelNum(tel) {\n    if (tel) {\n        var telLength = tel.length;\n        if (telLength < 11) {\n            tel = tel;\n        } else if (telLength >= 11) {\n            var telNum = tel.substring(3, 7);\n            tel = tel.replace(telNum, \"****\");\n        }\n        return tel;\n    } else {\n        return \"\";\n    }\n}\n\n//字符串替换+换行\nfunction formatStr(str){\n    str=str.replace(/<br\\/>/g, \"\\n\");\n    return str;\n}\n"]}