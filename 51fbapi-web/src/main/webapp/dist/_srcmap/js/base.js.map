{"version":3,"sources":["js/base.js"],"names":["requestMsg","msg","layer","content","skin","getUrl","para","paraArr","search","substring","split","location","i","length","getInfo","url","toString","decodeURIComponent","toDecimal2","x","f","parseFloat","isNaN","fM","Math","round","s","rs","indexOf","getBlatFrom","u","navigator","userAgent","isAndroid","isiOS","match","formatDate","now","Date","parseInt","getFullYear","getMonth","getDate","getCookie","cookie_name","allcookies","document","cookie","cookie_pos","cookie_end","value","unescape","domainName","window","protocol","host","txtFix","len","char_length","str","son_str","encodeURI","charAt","sub_len","formateTelNum","telLength","tel","telNum","replace","lazy","undefined","offset","poll","store","_inView","coords","el","getBoundingClientRect","top","left","innerHeight","documentElement","clientHeight","_pollImages","self","src","getAttribute","splice","_throttle","clearTimeout","setTimeout","init","nodes","querySelectorAll","of","push","addEventListener","attachEvent","render"],"mappings":"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","file":"../../js/base.js","sourcesContent":["/*\r\n * @Author: yoe\r\n * @Date:   2017-02-15 09:59:54\r\n * @Last Modified by:   Marte\r\n * @Last Modified time: 2017-06-08 11:22:16\r\n * @title:  公用的\r\n */\r\n\r\n\r\n// 公用弹框内容\r\nfunction requestMsg(msg) {\r\n    layer.open({\r\n        content: msg,\r\n        skin: 'msg',\r\n        time: 2\r\n    });\r\n}\r\n\r\n// 获取当前页面的URL 对其带的参数进行处理\r\nfunction getUrl(para) {\r\n    var paraArr = location.search.substring(1).split(\"&\");\r\n    for (var i = 0; i < paraArr.length; i++) {\r\n        if (para == paraArr[i].split('=')[0]) {\r\n            return paraArr[i].split('=')[1];\r\n        }\r\n    }\r\n    return '';\r\n}\r\n\r\n// 获取当前页面的URL 对其带的参数进行处理\r\nfunction getInfo() {\r\n    var url = decodeURIComponent(location.toString());\r\n    var paraArr = url.toString().split(\"_appInfo=\");\r\n\r\n    if (paraArr.length > 1) {\r\n        return eval('(' + paraArr[1] + ')');\r\n    } else {\r\n        return ''\r\n    }\r\n\r\n}\r\n\r\n// 处理默认的保留二位小数\r\nfunction toDecimal2(x) {\r\n    var f = parseFloat(x);\r\n    if (isNaN(f)) {\r\n        return false;\r\n    }\r\n    var fM = Math.round(x * 100) / 100;\r\n    var s = fM.toString();\r\n    var rs = s.indexOf('.');\r\n    if (rs < 0) {\r\n        rs = s.length;\r\n        s += '.';\r\n    }\r\n    while (s.length <= rs + 2) {\r\n        s += '0';\r\n    }\r\n    return s;\r\n}\r\n\r\n// 判断ios系统还是android系统\r\nfunction getBlatFrom() {\r\n    var u = navigator.userAgent;\r\n    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端\r\n    var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n    // 返回1是android系统\r\n    if (isAndroid) {\r\n        return 1;\r\n    }\r\n    // 返回2是ios系统\r\n    if (isiOS) {\r\n        return 2;\r\n    }\r\n    return 0;\r\n}\r\n\r\n// 时间戳转换\r\nfunction formatDate(now) {\r\n    now = new Date(parseInt(now));\r\n    var year = now.getFullYear();\r\n    var month = now.getMonth() + 1;\r\n    var date = now.getDate();\r\n    // var hour=now.getHours();\r\n    // var minute=now.getMinutes();\r\n    // var second=now.getSeconds();\r\n    // return \"20\"+year+\"-\"+month+\"-\"+date+\" \"+hour+\":\"+minute+\":\"+second;\r\n    return year + \"-\" + month + \"-\" + date;\r\n}\r\n\r\n// 获取cookie里面的参数\r\nfunction getCookie(cookie_name) {\r\n    var allcookies = document.cookie;\r\n    var cookie_pos = allcookies.indexOf(cookie_name);   //索引的长度\r\n\r\n    // 如果找到了索引，就代表cookie存在，\r\n    // 反之，就说明不存在。\r\n    if (cookie_pos != -1) {  // 把cookie_pos放在值的开始，只要给值加1即可。\r\n        cookie_pos += cookie_name.length + 1;  // 这里容易出问题，所以请大家参考的时候自己好好研究一下\r\n        var cookie_end = allcookies.indexOf(\";\", cookie_pos);\r\n\r\n        if (cookie_end == -1) {\r\n            cookie_end = allcookies.length;\r\n        }\r\n\r\n        var value = unescape(allcookies.substring(cookie_pos, cookie_end));  //这里就可以得到你想要的cookie的值了。。。\r\n    }\r\n    return value;\r\n};\r\n\r\n// 获取网站的域名\r\nfunction domainName() {\r\n    var protocol = window.location.protocol;\r\n    var host = window.location.host;\r\n    var domainName = protocol + '//' + host;\r\n    return domainName;\r\n}\r\n//限制文字数量\r\nfunction txtFix(i, len) {\r\n    function cut_str(str, len) {\r\n        var char_length = 0;\r\n        if (str.length <= len) {\r\n            return str\r\n        } else {\r\n            for (var i = 0; i < str.length; i++) {\r\n                var son_str = str.charAt(i);\r\n                encodeURI(son_str).length > 2 ? char_length += 1 : char_length += 0.5;\r\n                if (char_length >= len) {\r\n                    var sub_len = char_length == len ? i + 1 : i;\r\n                    return str.substr(0, sub_len);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return cut_str(i, len)\r\n}\r\n\r\n\r\n//图片懒加载\r\nwindow.lazy = (function(window, document, undefined) {\r\n\r\n    'use strict';\r\n\r\n    var store = [],\r\n        offset,\r\n        poll;\r\n\r\n    var _inView = function(el) {\r\n        var coords = el.getBoundingClientRect();\r\n        return ((coords.top >= 0 && coords.left >= 0 && coords.top) <= ((window.innerHeight || document.documentElement.clientHeight) + parseInt(offset)));\r\n    };\r\n\r\n    var _pollImages = function() {\r\n        for (var i = store.length; i--;) {\r\n            var self = store[i];\r\n            if (_inView(self)) {\r\n                self.src = self.getAttribute('lazy-src');\r\n                store.splice(i, 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    var _throttle = function() {\r\n        clearTimeout(poll);\r\n        poll = setTimeout(_pollImages,0);\r\n    };\r\n\r\n    var init = function(of) {\r\n        var nodes = document.querySelectorAll('[lazy-src]');\r\n        offset = of || 0;\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            store.push(nodes[i]);\r\n        }\r\n        _throttle();\r\n\r\n        if (document.addEventListener) {\r\n            window.addEventListener('scroll', _throttle, false);\r\n        } else {\r\n            window.attachEvent('onscroll', _throttle);\r\n        }\r\n    };\r\n\r\n    return {\r\n        init: init,\r\n        render: _throttle\r\n    };\r\n\r\n})(window, document);\r\n\r\n\r\n// 隐藏电话号码的中间四位\r\nfunction formateTelNum(tel) {\r\n    if (tel) {\r\n        var telLength = tel.length;\r\n        if (telLength < 11) {\r\n            tel = tel;\r\n        } else if (telLength >= 11) {\r\n            var telNum = tel.substring(4, 7);\r\n            tel = tel.replace(telNum, \"****\");\r\n        }\r\n        return tel;\r\n    } else {\r\n        return \"\";\r\n    }\r\n}\r\n\r\n"]}