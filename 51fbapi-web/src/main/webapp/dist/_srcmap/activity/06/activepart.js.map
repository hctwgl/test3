{"version":3,"sources":["activity/06/activepart.js"],"names":["$","addModel","goodsList","html","i","length","saleAmount","rebateAmount","toDecimal2","goodsUrl","urlHost","host","goodsId","goodsIcon","goodName","each","index","e","click","that","this","outerHeight","height","H","offset","t","scrollTop","big_top","theme","menu","new_top","win","top","com_top","play_top","ele_top","find","siblings","removeClass","console","addClass","scroll","top1","parent","ajax","requestMsg","dataType","type","data","modelId","success","returnData","goodTitle","qualityGoodsList","mainActivityList","activityUrl","attr","sort","eq","append","finished","msg","error"],"mappings":"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","file":"../../../activity/06/activepart.js","sourcesContent":["\r\n$(function(){\r\n      //导航栏点击滑动到对应部分\r\n      $(\".menu li\").each(function(index,e){\r\n            e.index = index;\r\n             // console.log(index);\r\n            //注册点击事件\r\n            $(e).click(function(){\r\n                  var that=this.index;\r\n                  var height=$(\"#new\").outerHeight();\r\n                  var t= $(\"#new\").offset().top;\r\n                  var H= height*that+t;\r\n                  $('body').animate({scrollTop:H+'px'},500);\r\n            });\r\n      });\r\n\r\n      var theme = $(\"#theme\");//导航栏上部的距离\r\n      var menu=$('#menu');//导航栏对象\r\n      var win=$(window);//窗口对象\r\n      var sc=$('body');//document文档对象\r\n      \r\n      var new_top=$('#new').offset().top;\r\n      var com_top=$('#com').offset().top;\r\n      var play_top=$('#play').offset().top;\r\n      var ele_top=$('#ele').offset().top;\r\n      var big_top=$('#big').offset().top;\r\n      var top1 ;\r\n\r\n      //导航栏高亮\r\n          menu.find('a').click(function(){\r\n             $(this).addClass('cur').siblings().removeClass('cur');\r\n             console.log(22222)\r\n          })\r\n\r\n      win.scroll(function(){\r\n          //当导航栏滑动到顶部的时候 导航栏固定\r\n          top1 = win.scrollTop();\r\n           if(top1>=new_top){\r\n                menu.addClass('fixed');\r\n           }else{\r\n                menu.removeClass('fixed');\r\n           }\r\n\r\n           //导航条滚动 导航栏高亮\r\n           if(top1>=big_top){\r\n              console.log(1)\r\n              $('#m_big').find('a').addClass('cur').parent('li').siblings().find('a').removeClass('cur');\r\n              return;\r\n           }else if(top1>=ele_top){\r\n              console.log(2)\r\n              $('#m_ele').find('a').addClass('cur').parent('li').siblings().find('a').removeClass('cur');\r\n            return;\r\n           }else if(top1>=play_top){\r\n            console.log(3);\r\n              $('#m_play').find('a').addClass('cur').parent('li').siblings().find('a').removeClass('cur');\r\n            return;\r\n           }else if(top1>=com_top){\r\n            console.log(4)\r\n              $('#m_com').find('a').addClass('cur').parent('li').siblings().find('a').removeClass('cur');\r\n            return;\r\n           }else if(top1>=new_top){\r\n            console.log(5)\r\n              $('#m_new').find('a').addClass('cur').parent('li').siblings().find('a').removeClass('cur');\r\n              return;\r\n           }\r\n\r\n      })\r\n\r\n\r\n      // 精品推荐Model\r\n      function addModel(goodsList) {\r\n      \r\n        var html = '';\r\n        for (var i = 0; i < goodsList.length; i++) {\r\n      \r\n          var saleAmount = toDecimal2(goodsList[i].saleAmount);  // 售价\r\n          var rebateAmount = toDecimal2(goodsList[i].rebateAmount);  // 返利\r\n          var goodsUrl = goodsList[i].goodsUrl;  // 淘宝商品链接\r\n      \r\n          var urlHost = window.location.host;\r\n          var goodsUrl = urlHost + '&params={\"goodsId\":\"'+goodsList[i].goodsId+'\"}';\r\n      \r\n          html +='<li class=\"boot-1\">'\r\n                      +'<a href='+goodsUrl+'>'\r\n                          +'<img src='+goodsList[i].goodsIcon+'>'\r\n                          +'<div class=\"b-1-r\">'\r\n                              +'<p class=\"discount\">'+goodsList[i].goodName+'</p>'\r\n                              +'<p class=\"price\">'\r\n                                  +'<u>￥'+saleAmount+'</u>'\r\n                                  +'<span><i>返</i>￥'+rebateAmount+'</span>'\r\n                              +'</p>'\r\n                              +'<p class=\"back\">'\r\n                                  +'<u class=\"return\">返￥'+'</u>'+rebateAmount+'<u>￥'+'</u>1.20*2'\r\n                              +'</p>'\r\n                              +'<p class=\"rob\">马上抢</p>'\r\n                          +'</div>'\r\n                      +'</a>'\r\n                +'</li>';\r\n          }\r\n          return html;\r\n      };\r\n\r\n\r\n      //ajax后台数据获取\r\n      $.ajax({\r\n          url:'/fanbei-web/partActivityInfo',\r\n          dataType:'json',\r\n          type:'post',\r\n          data:{'modelId':'33'},\r\n          success: function(returnData){\r\n              console.log(returnData);\r\n              if (returnData.success) {\r\n                // 会场链接\r\n                let mainActivityList = returnData.data[\"mainActivityList\"];\r\n                for (var i = 0; i < mainActivityList.length; i++) {\r\n                  let activityUrl = mainActivityList[i].activityUrl;\r\n                  let sort = mainActivityList[i].sort;\r\n        \r\n                  let dataType = $(\"#selectedHome li\").attr(\"data-type\");\r\n                  if (dataType = sort) {\r\n                    $(\"#selectedHome li\").eq(i).find('a').attr(\"href\",activityUrl);\r\n                  } else {\r\n                    requestMsg(\"会场不存在\");\r\n                  }\r\n                }\r\n        \r\n                // 精品title\r\n                let goodTitle = returnData.data[\"goodTitle\"];\r\n                $(\"#goodTitle\").append(goodTitle);\r\n        \r\n                // 精品列表\r\n                let qualityGoodsList = returnData.data[\"qualityGoodsList\"];\r\n                $(\"#qualityGoodsList\").append(addModel(qualityGoodsList));\r\n        \r\n                finished=0\r\n        \r\n              }else{\r\n                requestMsg(returnData.msg);\r\n              }\r\n         },\r\n        error: function(){\r\n          requestMsg(\"请求失败\");\r\n        }\r\n    });\r\n\r\n\r\n    });\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}