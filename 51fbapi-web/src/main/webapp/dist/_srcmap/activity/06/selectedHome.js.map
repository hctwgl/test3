{"version":3,"sources":["activity/06/selectedHome.js"],"names":["alaShareData","title","con","sort","shareData","content","dataObj","appLogin","shareAppTitle","shareAppContent","shareAppImage","shareAppUrl","isSubmit","sharePage","JSON","stringify","modelId","getUrl","windowW","$","window","outerWidth","Swipe","ele","_classCallCheck","this","container","element","children","distance","length","speed","document","width","addEventListener","a","onTouchStart","onTouchMove","isScrolling","deltaX","start","pageX","touches","pageY","style","MozTransitionDuration","webkitTransitionDuration","startDistance","stopPropagation","scale","Math","abs","clientWidth","left","Vue","el","data","tableUrl","moreHref","option","created","logData","statistics","id","post","then","res","log","divTop","response","console","statisticsTwo","subjectId","self","jQuery","scrollTop","addClass","removeClass","$http","op","eval","handleScroll","win","css","getElementById","offsetTop","getBlatFrom","options","emulateJSON"],"mappings":"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","file":"../../../activity/06/selectedHome.js","sourcesContent":["let modelId=getUrl('modelId');\r\nlet windowW = $(window).outerWidth();\r\nlet sort=getUrl('sort');\r\n// app调用web的方法\r\nlet shareData=[\r\n    {title:'分期购物无忧 3/6/9/12免息',content:'分期无忧 拯救剁手党,90后消费哲学潮这里 我的 我的 都是我的！'},\r\n    {title:'高佣好货聚集618，最高返利50%',content:'全球好货你来淘，佣金我来返。大牌好货爆款，超高额返利尽在嗨购高佣超级券专场。你来淘，我来返！'},\r\n    {title:'联手大牌  满百就减',content:'一份品味逆天的秘籍送给你！不止大牌集群，小众精美好物待你来挖掘~美好生活，触手可及'}\r\n    ];\r\n\r\n\r\nfunction alaShareData(){\r\n    let title,con;\r\n    switch (sort){\r\n        case '1':\r\n            title=shareData[0].title;\r\n            con=shareData[0].content;\r\n            break;\r\n        case '2':\r\n            title=shareData[1].title;\r\n            con=shareData[1].content;\r\n            break;\r\n        case '3':\r\n            title=shareData[2].title;\r\n            con=shareData[2].content;\r\n            break;\r\n    }\r\n    // 分享内容\r\n    let dataObj = {\r\n        'appLogin': 'Y', // 是否需要登录，Y需要，N不需要\r\n        'type': 'share', // 此页面的类型\r\n        'shareAppTitle': title,  // 分享的title\r\n        'shareAppContent': con,  // 分享的内容\r\n        'shareAppImage': 'https://fs.51fanbei.com/h5/common/icon/midyearCorner.png',  // 分享右边小图\r\n        'shareAppUrl': 'https://app.51fanbei.com/fanbei-web/activity/feastRaidersShare',  // 分享后的链接\r\n        'isSubmit': 'Y', // 是否需要向后台提交数据，Y需要，N不需要\r\n        'sharePage': 'feastRaidersShare' // 分享的页面\r\n    };\r\n    let dataStr = JSON.stringify(dataObj);  // json数组转换成json对象\r\n    return dataStr;\r\n}\r\n//导航滑动\r\nclass Swipe{\r\n    constructor(ele){\r\n        this.container = ele;\r\n        this.element = this.container.children[0];\r\n        this.distance=0;\r\n        this.length = this.element.children.length;\r\n        this.speed = 200;\r\n        //执行对象中的handleEvent函数\r\n        document.getElementById('listAlert').style.width=this.length*1.5+'rem';\r\n        if(this.length>5){\r\n            this.element.addEventListener(\"touchstart\", this);\r\n            this.element.addEventListener(\"touchmove\", this);\r\n        }\r\n\r\n    }\r\n    handleEvent(a) {\r\n        switch (a.type) {\r\n            case \"touchstart\":\r\n                this.onTouchStart(a);\r\n                break;\r\n            case \"touchmove\":\r\n                this.onTouchMove(a);\r\n                break;\r\n        }\r\n    }\r\n    onTouchStart(a) {\r\n        this.isScrolling = false;\r\n        this.deltaX = 0;\r\n        this.start = {\r\n            pageX: a.touches[0].pageX,\r\n            pageY: a.touches[0].pageY\r\n        };\r\n        this.element.style.MozTransitionDuration = this.element.style.webkitTransitionDuration = this.speed + \"ms\";\r\n        this.startDistance=this.distance;\r\n        a.stopPropagation()\r\n    }\r\n    onTouchMove(a) {\r\n        if (a.touches.length > 1 || a.scale && a.scale !== 1) {\r\n            return\r\n        }\r\n        this.deltaX = a.touches[0].pageX - this.start.pageX;\r\n        (Math.abs(this.deltaX) > Math.abs(a.touches[0].pageY - this.start.pageY))?this.isScrolling = true:this.isScrolling = false;   //判断横滚还是竖滚\r\n        if (this.isScrolling) {\r\n            this.distance=this.startDistance-this.deltaX;\r\n            if(this.distance<0){\r\n                this.distance=0\r\n            }else if(this.distance>this.element.clientWidth-windowW){\r\n                this.distance=this.element.clientWidth-windowW\r\n            }\r\n            this.element.style.left = -this.distance + \"px\";\r\n            a.stopPropagation()\r\n        }\r\n    }\r\n}\r\n\r\nnew Vue({\r\n    el:'#vueCon',\r\n    data:{\r\n        tableUrl:\"/fanbei-web/partActivityInfo?modelId=\"+modelId,\r\n        content:[],\r\n        moreHref:'getMore?modelId='+modelId+'&subjectId=',\r\n        divTop:'',\r\n        option:{\r\n            sort:sort\r\n        }\r\n    },\r\n    created:function () {\r\n        this.logData();\r\n    },\r\n    methods:{\r\n        statistics(id){\r\n            let self=this;\r\n            self.$http.post('/fanbei-web/qualityGoodsStatistics',{goodsId:id}).then(function (res) {\r\n                console.log(id);\r\n                console.log(res);\r\n            },function (response) {\r\n                console.log(response)\r\n            })\r\n        },\r\n        statisticsTwo(id){\r\n            let self=this;\r\n            self.$http.post('/fanbei-web/categoryGoodsStatistics',{subjectId:id}).then(function (res) {\r\n                console.log(id);\r\n                console.log(res);\r\n            },function (response) {\r\n                console.log(response)\r\n            })\r\n        },\r\n        handleScroll (){\r\n            let win=jQuery(window).scrollTop();\r\n            if(win>=this.divTop){\r\n                jQuery('#navWrap').addClass('fixTop');\r\n            }else{\r\n                jQuery('#navWrap').removeClass('fixTop');\r\n            }\r\n        },\r\n        logData (){\r\n            Vue.http.options.emulateJSON = true;\r\n            let self=this;\r\n            let op={data:JSON.stringify(self.option)};\r\n            self.$http.post(self.tableUrl,op).then(function (res) {\r\n                self.content = eval('(' + res.data + ')');\r\n                console.log(self.content);\r\n                self.$nextTick(function () {                              //dom渲染完成后执行\r\n                    if(sort==2){\r\n                        $('#vueCon').css('background-color','#4515aa');\r\n                        $('#listAlert').css('background-color','#4515aa');\r\n                    }\r\n                    self.divTop=document.getElementById('navWrap').offsetTop;\r\n                    if(getBlatFrom()==2){\r\n                        window.addEventListener('touchstart', this.handleScroll);\r\n                        window.addEventListener('touchmove', this.handleScroll);\r\n                        window.addEventListener('touchend', this.handleScroll);\r\n                    }else{\r\n                        window.addEventListener('scroll', this.handleScroll);\r\n                    }\r\n                    new Swipe(document.getElementById('navWrap'));\r\n                })\r\n            },function (response) {\r\n                console.log(response)\r\n            })\r\n        }\r\n    }\r\n});\r\n"]}