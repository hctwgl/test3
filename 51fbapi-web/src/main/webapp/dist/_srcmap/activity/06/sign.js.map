{"version":3,"sources":["activity/06/sign.js"],"names":["userName","getInfo","el","vm","dataUrl","msgUrl","data","className","content","fixContent","okContent","current","msg","logData","signIn","this","self","$http","post","response","then","res","eval","requestMsg","currentTime","beginTime","contentData","startDate","replace","parseInt","currentDate","timeList","resultList","length","i","push","splice"],"mappings":"YAGA,IAAIA,UAAW,EACZC,WAAUD,WADTA,SAAAA,UAAJA,SAEIA,IAAAA,IAAAA,GAAAA,MACHE,GAAA,UACGC,QAAG,+BACHD,OAAG,6BACHE,MACAC,WAAO,SAAA,UAAA,YAHI,WAAA,UAIXC,WACIC,cACAC,YACAC,GACAC,GAOAC,GACAC,GAhBO,GAmBPD,QAAKE,GAnBED,QAsBPE,QAAAA,WACIC,KAAAF,WAEAG,SACIA,OADJA,QAAAA,QACIA,MAEAA,GAAAA,MAAKH,IACRG,MAACC,MAAAC,KAAUC,8BAAUC,KAAA,SAAAC,KAClBL,KAAAJ,IAAAU,KAAA,IAAAD,IAAAf,KAAA,KALJiB,WAAAP,KAAAJ,IAAAA,KAJAI,KAAAH,WAaJA,SAbIM,OAkBQH,QAdRA,QAAAA,WAgBQ,GAAAA,MAAIQ,IACAA,MAAAA,MAAAA,KAAAA,gCAAAJ,KAAA,SAAAC,KAEAI,KAAAA,QAAUC,KAAAA,IAAYC,IAAAA,KAA1B,IACIF,IAAAA,aAAUA,KAAUG,QAAQtB,KAC5BmB,YAAUI,YAAVC,WACAC,aAASL,YAAYM,QAAzB,MAAA,IACIR,YAAUO,SAASE,YACnBF,IAAAA,WAAYA,YAAYH,SACxBG,WAAYF,UAASE,QAASG,MAA9B,IACGH,UAAAF,SAAaJ,UAEf,KAAA,GADGM,UAASI,YAAKJ,WACjBG,EAAA,EAAAA,EAAAH,SAAAE,OAAAC,IACJH,SAAAG,GAAAH,SAAAG,GAAAN,QAAA,MAAA,IACInB,SAAWsB,GAAAA,SAASA,SAAzBG,IACKzB,SAAWe,IAAAA,WAAYA,SAA5BU,IAAAV,aACKf,SAAWgB,KAAhBM,SAA0BN,GAG7CT,MAAQkB,WAAUzB,SAAAA,SACfO,KAAKN,WAAU0B,YAAY3B,YACtBO,KAAAP,WAAAgB,UAAAA,UACKT,KAAUG,QAAVK,YAAoBC,UAAA,CAErB,KAAA,GAAAS,MA5BDlB,MAAAP,WAAAsB,SA6BHf,KAAAN,UAAA0B,OAAApB,KAAAP,WAAAsB,SAAAG,IAAAlB,KAAAP,WAAAgB,UAAA,GAAA,IAlET,SAAAN","file":"../../../activity/06/sign.js","sourcesContent":["/**\r\n * Created by nizhiwei-labtop on 2017/6/13.\r\n */\r\nlet userName = \"\";\r\nif(getInfo().userName){\r\n    userName=getInfo().userName\r\n}\r\nlet vm=new Vue({\r\n    el:'#vueCon',\r\n    dataUrl:'/fanbei-web/initActivitySign',\r\n    msgUrl:'/fanbei-web/activitySignIn',\r\n    data:{\r\n        className:['Monday','Tuesday','Wednesday','Thursday','Friday'],\r\n        content:{},\r\n        fixContent:{},\r\n        okContent:[\r\n            false,\r\n            false,\r\n            false,\r\n            false,\r\n            false\r\n            ],\r\n        current:'',\r\n        msg:{}\r\n    },\r\n    created:function () {\r\n        this.logData();\r\n    },\r\n    methods:{\r\n        signIn(time){\r\n            //点击签到弹出签到成功信息\r\n            let self=this;\r\n            self.$http.post('/fanbei-web/activitySignIn').then(function (res) {\r\n                self.msg= eval('(' + res.data + ')');     \r\n                requestMsg(self.msg.msg);\r\n                self.logData();\r\n            },function (response) {\r\n                //console.log(response)\r\n            })\r\n            \r\n        },\r\n        logData (){\r\n            //获取页面初始化信息\r\n            let self=this;\r\n            self.$http.post('/fanbei-web/initActivitySign').then(function (res) {\r\n                    \r\n                    self.content =  eval('(' + res.data + ')');\r\n                    let contentData=self.content.data;\r\n                    let currentTime=contentData.currentDate;\r\n                        currentTime=currentTime.replace(/\\-/g, \"\"); \r\n                        currentTime=parseInt(currentTime);\r\n                    let beginTime=contentData.startDate;\r\n                        beginTime=beginTime.replace(/\\-/g, \"\"); \r\n                        beginTime=parseInt(beginTime);\r\n                    let timeList=contentData.resultList;\r\n                    for(let i=0;i<timeList.length;i++){\r\n                        timeList[i]=timeList[i].replace(/\\-/g, \"\"); \r\n                        timeList[i]=parseInt(timeList[i]); \r\n                        if(timeList[i]>=beginTime&&timeList[i]<=currentTime){\r\n                            timeList.push[timeList[i]];\r\n                        }                       \r\n                    } \r\n                    self.fixContent.timeList=timeList\r\n                    self.fixContent.currentTime=currentTime;\r\n                    self.fixContent.beginTime=beginTime;\r\n                    self.current=currentTime-beginTime+1;\r\n                    //console.log(self.fixContent)\r\n for(let i in self.fixContent.timeList){\r\n    self.okContent.splice(self.fixContent.timeList[i]-self.fixContent.beginTime,1,true)\r\n        }            \r\n            },function (response) {\r\n                //console.log(response)\r\n            })\r\n        }\r\n        \r\n    }\r\n})"]}